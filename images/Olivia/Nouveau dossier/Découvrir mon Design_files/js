(function() {

	/* MIT https://github.com/fabiospampinato/cash */
	(function(){
	'use strict';var e={"class":"className",contenteditable:"contentEditable","for":"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};function aa(a,b){try{return a(b)}catch(c){return b}}
	var k=document,m=window,ba=k.documentElement,n=k.createElement.bind(k),ca=n("div"),p=n("table"),da=n("tbody"),ea=n("tr"),q=Array.isArray,r=Array.prototype,fa=r.concat,t=r.filter,ha=r.indexOf,ia=r.map,ja=r.push,ka=r.slice,u=r.some,la=r.splice,ma=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,na=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,oa=/<.+>/,pa=/^\w+$/;function v(a,b){return a&&(w(b)||x(b))?na.test(a)?b.getElementsByClassName(a.slice(1)):pa.test(a)?b.getElementsByTagName(a):b.querySelectorAll(a):[]}
	var B=function(){function a(a,c){if(a){if(a instanceof B)return a;var b=a;if(C(a)){if(b=(c instanceof B?c[0]:c)||k,b=ma.test(a)?b.getElementById(a.slice(1)):oa.test(a)?qa(a):v(a,b),!b)return}else if(D(a))return this.ready(a);if(b.nodeType||b===m)b=[b];this.length=b.length;a=0;for(c=this.length;a<c;a++)this[a]=b[a]}}a.prototype.init=function(b,c){return new a(b,c)};return a}(),E=B.prototype,F=E.init;F.fn=F.prototype=E;E.length=0;E.splice=la;"function"===typeof Symbol&&(E[Symbol.iterator]=r[Symbol.iterator]);
	E.map=function(a){return F(fa.apply([],ia.call(this,function(b,c){return a.call(b,c,b)})))};E.slice=function(a,b){return F(ka.call(this,a,b))};var ra=/-([a-z])/g;function G(a){return a.replace(ra,function(a,c){return c.toUpperCase()})}F.guid=1;function sa(a,b){var c=a&&(a.matches||a.webkitMatchesSelector||a.msMatchesSelector);return!!c&&!!b&&c.call(a,b)}function H(a){return!!a&&a===a.window}function w(a){return!!a&&9===a.nodeType}function x(a){return!!a&&1===a.nodeType}
	function D(a){return"function"===typeof a}function C(a){return"string"===typeof a}function ta(a){return!isNaN(parseFloat(a))&&isFinite(a)}function I(a){if("object"!==typeof a||null===a)return!1;a=Object.getPrototypeOf(a);return null===a||a===Object.prototype}F.isWindow=H;F.isFunction=D;F.isArray=q;F.isNumeric=ta;F.isPlainObject=I;E.get=function(a){if(void 0===a)return ka.call(this);a=Number(a);return this[0>a?a+this.length:a]};E.eq=function(a){return F(this.get(a))};E.first=function(){return this.eq(0)};
	E.last=function(){return this.eq(-1)};function J(a,b,c){if(c)for(c=a.length;c--&&!1!==b.call(a[c],c,a[c]););else if(I(a)){var d=Object.keys(a);c=0;for(var h=d.length;c<h;c++){var f=d[c];if(!1===b.call(a[f],f,a[f]))break}}else for(c=0,h=a.length;c<h&&!1!==b.call(a[c],c,a[c]);c++);return a}F.each=J;E.each=function(a){return J(this,a)};E.prop=function(a,b){if(a){if(C(a))return a=e[a]||a,2>arguments.length?this[0]&&this[0][a]:this.each(function(c,h){h[a]=b});for(var c in a)this.prop(c,a[c]);return this}};
	E.removeProp=function(a){return this.each(function(b,c){delete c[e[a]||a]})};function K(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b="boolean"===typeof a[0]?a.shift():!1;var c=a.shift(),d=a.length;if(!c)return{};if(!d)return K(b,F,c);for(var h=0;h<d;h++){var f=a[h],g;for(g in f)b&&(q(f[g])||I(f[g]))?(c[g]&&c[g].constructor===f[g].constructor||(c[g]=new f[g].constructor),K(b,c[g],f[g])):c[g]=f[g]}return c}F.extend=K;E.extend=function(a){return K(E,a)};
	function L(a){return C(a)?function(b,c){return sa(c,a)}:D(a)?a:a instanceof B?function(b,c){return a.is(c)}:a?function(b,c){return c===a}:function(){return!1}}E.filter=function(a){var b=L(a);return F(t.call(this,function(a,d){return b.call(a,d,a)}))};function M(a,b){return b?a.filter(b):a}var ua=/\S+/g;function N(a){return C(a)?a.match(ua)||[]:[]}E.hasClass=function(a){return!!a&&u.call(this,function(b){return x(b)&&b.classList.contains(a)})};
	E.removeAttr=function(a){var b=N(a);return this.each(function(a,d){x(d)&&J(b,function(a,b){d.removeAttribute(b)})})};E.attr=function(a,b){if(a){if(C(a)){if(2>arguments.length){if(!this[0]||!x(this[0]))return;var c=this[0].getAttribute(a);return null===c?void 0:c}return void 0===b?this:null===b?this.removeAttr(a):this.each(function(c,h){x(h)&&h.setAttribute(a,b)})}for(c in a)this.attr(c,a[c]);return this}};
	E.toggleClass=function(a,b){var c=N(a),d=void 0!==b;return this.each(function(a,f){x(f)&&J(c,function(a,c){d?b?f.classList.add(c):f.classList.remove(c):f.classList.toggle(c)})})};E.addClass=function(a){return this.toggleClass(a,!0)};E.removeClass=function(a){return arguments.length?this.toggleClass(a,!1):this.attr("class","")};
	function O(a,b,c,d){for(var h=[],f=D(b),g=d&&L(d),y=0,z=a.length;y<z;y++)if(f){var l=b(a[y]);l.length&&ja.apply(h,l)}else for(l=a[y][b];!(null==l||d&&g(-1,l));)h.push(l),l=c?l[b]:null;return h}function P(a){return 1<a.length?t.call(a,function(a,c,d){return ha.call(d,a)===c}):a}F.unique=P;E.add=function(a,b){return F(P(this.get().concat(F(a,b).get())))};function Q(a,b,c){if(x(a)){var d=m.getComputedStyle(a,null);return c?d.getPropertyValue(b)||void 0:d[b]||a.style[b]}}
	function R(a,b){return parseInt(Q(a,b),10)||0}var S=/^--/,T={},va=ca.style,wa=["webkit","moz","ms"];function xa(a,b){void 0===b&&(b=S.test(a));if(b)return a;if(!T[a]){b=G(a);var c=""+b[0].toUpperCase()+b.slice(1);b=(b+" "+wa.join(c+" ")+c).split(" ");J(b,function(b,c){if(c in va)return T[a]=c,!1})}return T[a]}
	var ya={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function za(a,b,c){void 0===c&&(c=S.test(a));return c||ya[a]||!ta(b)?b:b+"px"}
	E.css=function(a,b){if(C(a)){var c=S.test(a);a=xa(a,c);if(2>arguments.length)return this[0]&&Q(this[0],a,c);if(!a)return this;b=za(a,b,c);return this.each(function(d,f){x(f)&&(c?f.style.setProperty(a,b):f.style[a]=b)})}for(var d in a)this.css(d,a[d]);return this};var Aa=/^\s+|\s+$/;function Ba(a,b){a=a.dataset[b]||a.dataset[G(b)];return Aa.test(a)?a:aa(JSON.parse,a)}
	E.data=function(a,b){if(!a){if(!this[0])return;var c={},d;for(d in this[0].dataset)c[d]=Ba(this[0],d);return c}if(C(a))return 2>arguments.length?this[0]&&Ba(this[0],a):void 0===b?this:this.each(function(c,d){c=b;c=aa(JSON.stringify,c);d.dataset[G(a)]=c});for(d in a)this.data(d,a[d]);return this};function Ca(a,b){var c=a.documentElement;return Math.max(a.body["scroll"+b],c["scroll"+b],a.body["offset"+b],c["offset"+b],c["client"+b])}
	function Da(a,b){return R(a,"border"+(b?"Left":"Top")+"Width")+R(a,"padding"+(b?"Left":"Top"))+R(a,"padding"+(b?"Right":"Bottom"))+R(a,"border"+(b?"Right":"Bottom")+"Width")}
	J([!0,!1],function(a,b){J(["Width","Height"],function(a,d){E[(b?"outer":"inner")+d]=function(c){if(this[0])return H(this[0])?b?this[0]["inner"+d]:this[0].document.documentElement["client"+d]:w(this[0])?Ca(this[0],d):this[0][(b?"offset":"client")+d]+(c&&b?R(this[0],"margin"+(a?"Top":"Left"))+R(this[0],"margin"+(a?"Bottom":"Right")):0)}})});
	J(["Width","Height"],function(a,b){var c=b.toLowerCase();E[c]=function(d){if(!this[0])return void 0===d?void 0:this;if(!arguments.length)return H(this[0])?this[0].document.documentElement["client"+b]:w(this[0])?Ca(this[0],b):this[0].getBoundingClientRect()[c]-Da(this[0],!a);var h=parseInt(d,10);return this.each(function(b,d){x(d)&&(b=Q(d,"boxSizing"),d.style[c]=za(c,h+("border-box"===b?Da(d,!a):0)))})}});var U={};
	E.toggle=function(a){return this.each(function(b,c){if(x(c))if(void 0===a?"none"===Q(c,"display"):a){if(c.style.display=c.___cd||"","none"===Q(c,"display")){b=c.style;c=c.tagName;if(U[c])c=U[c];else{var d=n(c);k.body.insertBefore(d,null);var h=Q(d,"display");k.body.removeChild(d);c=U[c]="none"!==h?h:"block"}b.display=c}}else c.___cd=Q(c,"display"),c.style.display="none"})};E.hide=function(){return this.toggle(!1)};E.show=function(){return this.toggle(!0)};
	function Ea(a,b){return!b||!u.call(b,function(b){return 0>a.indexOf(b)})}var V={focus:"focusin",blur:"focusout"},W={mouseenter:"mouseover",mouseleave:"mouseout"},Fa=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function Ga(a,b,c,d,h){var f=a.___ce=a.___ce||{};f[b]=f[b]||[];f[b].push([c,d,h]);a.addEventListener(b,h)}function X(a){a=a.split(".");return[a[0],a.slice(1).sort()]}
	function Y(a,b,c,d,h){var f=a.___ce=a.___ce||{};if(b)f[b]&&(f[b]=f[b].filter(function(f){var g=f[0],z=f[1];f=f[2];if(h&&f.guid!==h.guid||!Ea(g,c)||d&&d!==z)return!0;a.removeEventListener(b,f)}));else for(b in f)Y(a,b,c,d,h)}
	E.off=function(a,b,c){var d=this;if(void 0===a)this.each(function(a,b){(x(b)||w(b)||H(b))&&Y(b)});else if(C(a))D(b)&&(c=b,b=""),J(N(a),function(a,h){a=X(h);h=a[0];var f=a[1],g=W[h]||V[h]||h;d.each(function(a,d){(x(d)||w(d)||H(d))&&Y(d,g,f,b,c)})});else for(var h in a)this.off(h,a[h]);return this};
	E.on=function(a,b,c,d,h){var f=this;if(!C(a)){for(var g in a)this.on(g,b,c,a[g],h);return this}C(b)||(void 0!==b&&null!==b&&(void 0!==c&&(d=c),c=b),b="");D(d)||(d=c,c=void 0);if(!d)return this;J(N(a),function(a,g){a=X(g);g=a[0];var l=a[1],z=W[g]||V[g]||g,y=g in W,Ka=g in V;z&&f.each(function(a,f){if(x(f)||w(f)||H(f))a=function La(a){if(a.target["___i"+a.type])return a.stopImmediatePropagation();if(!a.namespace||Ea(l,a.namespace.split(".")))if(b||!(Ka&&(a.target!==f||a.___ot===z)||y&&a.relatedTarget&&
	f.contains(a.relatedTarget))){var g=f;if(b){for(var A=a.target;!sa(A,b);){if(A===f)return;A=A.parentNode;if(!A)return}g=A;a.___cd=!0}a.___cd&&Object.defineProperty(a,"currentTarget",{configurable:!0,get:function(){return g}});Object.defineProperty(a,"data",{configurable:!0,get:function(){return c}});A=d.call(g,a,a.___td);h&&Y(f,z,l,b,La);!1===A&&(a.preventDefault(),a.stopPropagation())}},a.guid=d.guid=d.guid||F.guid++,Ga(f,z,l,b,a)})});return this};E.one=function(a,b,c,d){return this.on(a,b,c,d,!0)};
	E.ready=function(a){function b(){return setTimeout(a,0,F)}"loading"!==k.readyState?b():k.addEventListener("DOMContentLoaded",b);return this};E.trigger=function(a,b){if(C(a)){var c=X(a),d=c[0];c=c[1];var h=W[d]||V[d]||d;if(!h)return this;var f=Fa.test(h)?"MouseEvents":"HTMLEvents";a=k.createEvent(f);a.initEvent(h,!0,!0);a.namespace=c.join(".");a.___ot=d}a.___td=b;var g=a.___ot in V;return this.each(function(b,c){g&&D(c[a.___ot])&&(c["___i"+a.type]=!0,c[a.___ot](),c["___i"+a.type]=!1);c.dispatchEvent(a)})};
	function Ha(a){return a.multiple&&a.options?O(t.call(a.options,function(a){return a.selected&&!a.disabled&&!a.parentNode.disabled}),"value"):a.value||""}var Ia=/%20/g,Ja=/\r?\n/g,Ma=/file|reset|submit|button|image/i,Na=/radio|checkbox/i;
	E.serialize=function(){var a="";this.each(function(b,c){J(c.elements||[c],function(b,c){c.disabled||!c.name||"FIELDSET"===c.tagName||Ma.test(c.type)||Na.test(c.type)&&!c.checked||(b=Ha(c),void 0!==b&&(b=q(b)?b:[b],J(b,function(b,d){b=a;d="&"+encodeURIComponent(c.name)+"="+encodeURIComponent(d.replace(Ja,"\r\n")).replace(Ia,"+");a=b+d})))})});return a.slice(1)};
	E.val=function(a){return arguments.length?this.each(function(b,c){if((b=c.multiple&&c.options)||Na.test(c.type)){var d=q(a)?ia.call(a,String):null===a?[]:[String(a)];b?J(c.options,function(a,b){b.selected=0<=d.indexOf(b.value)},!0):c.checked=0<=d.indexOf(c.value)}else c.value=void 0===a||null===a?"":a}):this[0]&&Ha(this[0])};E.clone=function(){return this.map(function(a,b){return b.cloneNode(!0)})};E.detach=function(a){M(this,a).each(function(a,c){c.parentNode&&c.parentNode.removeChild(c)});return this};
	var Oa=/^\s*<(\w+)[^>]*>/,Pa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Qa={"*":ca,tr:da,td:ea,th:ea,thead:p,tbody:p,tfoot:p};function qa(a){if(!C(a))return[];if(Pa.test(a))return[n(RegExp.$1)];var b=Oa.test(a)&&RegExp.$1;b=Qa[b]||Qa["*"];b.innerHTML=a;return F(b.childNodes).detach().get()}F.parseHTML=qa;E.empty=function(){return this.each(function(a,b){for(;b.firstChild;)b.removeChild(b.firstChild)})};
	E.html=function(a){return arguments.length?void 0===a?this:this.each(function(b,c){x(c)&&(c.innerHTML=a)}):this[0]&&this[0].innerHTML};E.remove=function(a){M(this,a).detach().off();return this};E.text=function(a){return void 0===a?this[0]?this[0].textContent:"":this.each(function(b,c){x(c)&&(c.textContent=a)})};E.unwrap=function(){this.parent().each(function(a,b){"BODY"!==b.tagName&&(a=F(b),a.replaceWith(a.children()))});return this};
	E.offset=function(){var a=this[0];if(a)return a=a.getBoundingClientRect(),{top:a.top+m.pageYOffset,left:a.left+m.pageXOffset}};E.offsetParent=function(){return this.map(function(a,b){for(a=b.offsetParent;a&&"static"===Q(a,"position");)a=a.offsetParent;return a||ba})};
	E.position=function(){var a=this[0];if(a){var b="fixed"===Q(a,"position"),c=b?a.getBoundingClientRect():this.offset();if(!b){var d=a.ownerDocument;for(b=a.offsetParent||d.documentElement;(b===d.body||b===d.documentElement)&&"static"===Q(b,"position");)b=b.parentNode;b!==a&&x(b)&&(d=F(b).offset(),c.top-=d.top+R(b,"borderTopWidth"),c.left-=d.left+R(b,"borderLeftWidth"))}return{top:c.top-R(a,"marginTop"),left:c.left-R(a,"marginLeft")}}};
	E.children=function(a){return M(F(P(O(this,function(a){return a.children}))),a)};E.contents=function(){return F(P(O(this,function(a){return"IFRAME"===a.tagName?[a.contentDocument]:"TEMPLATE"===a.tagName?a.content.childNodes:a.childNodes})))};E.find=function(a){return F(P(O(this,function(b){return v(a,b)})))};var Ra=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Sa=/^$|^module$|\/(java|ecma)script/i,Ta=["type","src","nonce","noModule"];
	function Ua(a,b){a=F(a);a.filter("script").add(a.find("script")).each(function(a,d){if(Sa.test(d.type)&&ba.contains(d)){var c=n("script");c.text=d.textContent.replace(Ra,"");J(Ta,function(a,b){d[b]&&(c[b]=d[b])});b.head.insertBefore(c,null);b.head.removeChild(c)}})}
	function Z(a,b,c,d,h,f,g,y){J(a,function(a,f){J(F(f),function(a,f){J(F(b),function(b,g){var l=c?g:f;b=c?a:b;g=c?f:g;l=b?l.cloneNode(!0):l;b=!b;h?g.insertBefore(l,d?g.firstChild:null):g.parentNode.insertBefore(l,d?g:g.nextSibling);b&&Ua(l,g.ownerDocument)},y)},g)},f);return b}E.after=function(){return Z(arguments,this,!1,!1,!1,!0,!0)};E.append=function(){return Z(arguments,this,!1,!1,!0)};E.appendTo=function(a){return Z(arguments,this,!0,!1,!0)};E.before=function(){return Z(arguments,this,!1,!0)};
	E.insertAfter=function(a){return Z(arguments,this,!0,!1,!1,!1,!1,!0)};E.insertBefore=function(a){return Z(arguments,this,!0,!0)};E.prepend=function(){return Z(arguments,this,!1,!0,!0,!0,!0)};E.prependTo=function(a){return Z(arguments,this,!0,!0,!0,!1,!1,!0)};E.replaceWith=function(a){return this.before(a).remove()};E.replaceAll=function(a){F(a).replaceWith(this);return this};E.wrapAll=function(a){a=F(a);for(var b=a[0];b.children.length;)b=b.firstElementChild;this.first().before(a);return this.appendTo(b)};
	E.wrap=function(a){return this.each(function(b,c){var d=F(a)[0];F(c).wrapAll(b?d.cloneNode(!0):d)})};E.wrapInner=function(a){return this.each(function(b,c){b=F(c);c=b.contents();c.length?c.wrapAll(a):b.append(a)})};E.has=function(a){var b=C(a)?function(b,d){return v(a,d).length}:function(b,d){return d.contains(a)};return this.filter(b)};E.is=function(a){var b=L(a);return u.call(this,function(a,d){return b.call(a,d,a)})};E.next=function(a,b,c){return M(F(P(O(this,"nextElementSibling",b,c))),a)};
	E.nextAll=function(a){return this.next(a,!0)};E.nextUntil=function(a,b){return this.next(b,!0,a)};E.not=function(a){var b=L(a);return this.filter(function(c,d){return(!C(a)||x(d))&&!b.call(d,c,d)})};E.parent=function(a){return M(F(P(O(this,"parentNode"))),a)};E.index=function(a){var b=a?F(a)[0]:this[0];a=a?this:F(b).parent().children();return ha.call(a,b)};E.closest=function(a){var b=this.filter(a);if(b.length)return b;var c=this.parent();return c.length?c.closest(a):b};
	E.parents=function(a,b){return M(F(P(O(this,"parentElement",!0,b))),a)};E.parentsUntil=function(a,b){return this.parents(b,a)};E.prev=function(a,b,c){return M(F(P(O(this,"previousElementSibling",b,c))),a)};E.prevAll=function(a){return this.prev(a,!0)};E.prevUntil=function(a,b){return this.prev(b,!0,a)};E.siblings=function(a){return M(F(P(O(this,function(a){return F(a).parent().children().not(a)}))),a)};"undefined"!==typeof exports?module.exports=F:m.cash=m.$=F;
	})();

	!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlimSelect=t():e.SlimSelect=t()}(window,function(){return s={},n.m=i=[function(e,t,i){"use strict";function s(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var n;t.__esModule=!0,t.hasClassInTree=function(e,t){function s(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return s(e,t)||function e(t,i){return t&&t!==document?s(t,i)?t:e(t.parentNode,i):null}(e,t)},t.ensureElementInView=function(e,t){var i=e.scrollTop+e.offsetTop,s=i+e.clientHeight,n=t.offsetTop,a=n+t.clientHeight;n<i?e.scrollTop-=i-n:s<a&&(e.scrollTop+=a-s)},t.putContent=function(e,t,i){var s=e.offsetHeight,n=e.getBoundingClientRect(),a=i?n.top:n.top-s,o=i?n.bottom:n.bottom+s;return a<=0?"below":o>=window.innerHeight?"above":i?t:"below"},t.debounce=function(n,a,o){var l;return void 0===a&&(a=100),void 0===o&&(o=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=self,s=o&&!l;clearTimeout(l),l=setTimeout(function(){l=null,o||n.apply(i,e)},a),s&&n.apply(i,e)}},t.isValueInArrayOfObjects=function(e,t,i){if(!Array.isArray(e))return e[t]===i;for(var s=0,n=e;s<n.length;s++){var a=n[s];if(a&&a[t]&&a[t]===i)return!0}return!1},t.highlight=function(e,t,i){var s=e,n=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(n))return e;var a=e.match(n).index,o=a+e.match(n)[0].toString().length,l=e.substring(a,o);return s=s.replace(n,'<mark class="'+i+'">'+l+"</mark>")},t.kebabCase=function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(e){return"-"+e.toLowerCase()});return e[0]===e[0].toUpperCase()?t.substring(1):t},"function"!=typeof(n=window).CustomEvent&&(s.prototype=n.Event.prototype,n.CustomEvent=s)},function(e,t,i){"use strict";t.__esModule=!0;var s=(n.prototype.newOption=function(e){return{id:e.id?e.id:String(Math.floor(1e8*Math.random())),value:e.value?e.value:"",text:e.text?e.text:"",innerHTML:e.innerHTML?e.innerHTML:"",selected:!!e.selected&&e.selected,display:void 0===e.display||e.display,disabled:!!e.disabled&&e.disabled,placeholder:!!e.placeholder&&e.placeholder,class:e.class?e.class:void 0,data:e.data?e.data:{},mandatory:!!e.mandatory&&e.mandatory}},n.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},n.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var i=t[e];if("OPTGROUP"===i.nodeName){for(var s={label:i.label,options:[]},n=0,a=i.childNodes;n<a.length;n++){var o=a[n];if("OPTION"===o.nodeName){var l=this.pullOptionData(o);s.options.push(l),l.placeholder&&""!==l.text.trim()&&(this.main.config.placeholderText=l.text)}}this.data.push(s)}else"OPTION"===i.nodeName&&(l=this.pullOptionData(i),this.data.push(l),l.placeholder&&""!==l.text.trim()&&(this.main.config.placeholderText=l.text))}},n.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&"true"===e.dataset.mandatory}},n.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,i=this.main.select.element.options;t<i.length;t++){var s=i[t];if(s.selected){var n=this.getObjectFromData(s.value,"value");n&&n.id&&e.push(n.id)}}this.setSelected(e,"id")}else{var a=this.main.select.element;if(-1!==a.selectedIndex){var o=a.options[a.selectedIndex].value;this.setSelected(o,"value")}}},n.prototype.setSelected=function(e,t){void 0===t&&(t="id");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.placeholder||(r.selected=this.shouldBeSelected(r,e,t))}}}else n.selected=this.shouldBeSelected(n,e,t)}},n.prototype.shouldBeSelected=function(e,t,i){if(void 0===i&&(i="id"),Array.isArray(t))for(var s=0,n=t;s<n.length;s++){var a=n[s];if(i in e&&String(e[i])===String(a))return!0}else if(i in e&&String(e[i])===String(t))return!0;return!1},n.prototype.getSelected=function(){for(var e={text:"",placeholder:this.main.config.placeholderText},t=[],i=0,s=this.data;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){var r=l[o];r.selected&&(this.main.config.isMultiple?t.push(r):e=r)}}}else n.selected&&(this.main.config.isMultiple?t.push(n):e=n)}return this.main.config.isMultiple?t:e},n.prototype.addToSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){var i=[],s=this.getSelected();if(Array.isArray(s))for(var n=0,a=s;n<a.length;n++){var o=a[n];i.push(o[t])}i.push(e),this.setSelected(i,t)}},n.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){for(var i=[],s=0,n=this.getSelected();s<n.length;s++){var a=n[s];String(a[t])!==String(e)&&i.push(a[t])}this.setSelected(i,t)}},n.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},n.prototype.getObjectFromData=function(e,t){void 0===t&&(t="id");for(var i=0,s=this.data;i<s.length;i++){var n=s[i];if(t in n&&String(n[t])===String(e))return n;if(n.hasOwnProperty("options")&&n.options)for(var a=0,o=n.options;a<o.length;a++){var l=o[a];if(String(l[t])===String(e))return l}}return null},n.prototype.search=function(n){if(""!==(this.searchValue=n).trim()){var a=this.main.config.searchFilter,e=this.data.slice(0);n=n.trim();var t=e.map(function(e){if(e.hasOwnProperty("options")){var t=e,i=[];if(t.options&&(i=t.options.filter(function(e){return a(e,n)})),0!==i.length){var s=Object.assign({},t);return s.options=i,s}}return e.hasOwnProperty("text")&&a(e,n)?e:null});this.filtered=t.filter(function(e){return e})}else this.filtered=null},n);function n(e){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function r(e){return void 0!==e.text||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(e)),!1)}t.Data=s,t.validateData=function(e){if(!e)return console.error("Data must be an array of objects"),!1;for(var t=0,i=0,s=e;i<s.length;i++){var n=s[i];if(n.hasOwnProperty("label")){if(n.hasOwnProperty("options")){var a=n.options;if(a)for(var o=0,l=a;o<l.length;o++){r(l[o])||t++}}}else r(n)||t++}return 0===t},t.validateOption=r},function(e,t,i){"use strict";t.__esModule=!0;var s=i(3),n=i(4),a=i(5),r=i(1),o=i(0),l=(c.prototype.validate=function(e){var t="string"==typeof e.select?document.querySelector(e.select):e.select;if(!t)throw new Error("Could not find select element");if("SELECT"!==t.tagName)throw new Error("Element isnt of type select");return t},c.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,i=n=this.data.getSelected();t<i.length;t++){var s=i[t];e.push(s.value)}return e}var n;return(n=this.data.getSelected())?n.value:""},c.prototype.set=function(e,t,i,s){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),i&&this.close()},c.prototype.setSelected=function(e,t,i,s){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===s&&(s=!0),this.set(e,t,i,s)},c.prototype.setData=function(e){if(r.validateData(e)){for(var t=JSON.parse(JSON.stringify(e)),i=this.data.getSelected(),s=0;s<t.length;s++)t[s].value||t[s].placeholder||(t[s].value=t[s].text);if(this.config.isAjax&&i)if(this.config.isMultiple)for(var n=0,a=i.reverse();n<a.length;n++){var o=a[n];t.unshift(o)}else{for(t.unshift(i),s=0;s<t.length;s++)t[s].placeholder||t[s].value!==i.value||t[s].text!==i.text||delete t[s];var l=!1;for(s=0;s<t.length;s++)t[s].placeholder&&(l=!0);l||t.unshift({text:"",placeholder:!0})}this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},c.prototype.addData=function(e){r.validateData([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},c.prototype.open=function(){var e=this;if(this.config.isEnabled&&!this.data.contentOpen){if(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody){var t=this.slim.container.getBoundingClientRect();this.slim.content.style.top=t.top+t.height+window.scrollY+"px",this.slim.content.style.left=t.left+window.scrollX+"px",this.slim.content.style.width=t.width+"px"}if(this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===o.putContent(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),!this.config.isMultiple){var i=this.data.getSelected();if(i){var s=i.id,n=this.slim.list.querySelector('[data-id="'+s+'"]');n&&o.ensureElementInView(this.slim.list,n)}}setTimeout(function(){e.data.contentOpen=!0,e.config.searchFocus&&e.slim.search.input.focus(),e.afterOpen&&e.afterOpen()},this.config.timeoutDelay)}},c.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()},this.config.timeoutDelay))},c.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+t+"px 0 0 0",this.slim.content.style.height=t-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},c.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},c.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},c.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},c.prototype.search=function(t){if(this.data.searchValue!==t)if(this.slim.search.input.value=t,this.config.isAjax){var i=this;this.config.isSearching=!0,this.render(),this.ajax&&this.ajax(t,function(e){i.config.isSearching=!1,Array.isArray(e)?(e.unshift({text:"",placeholder:!0}),i.setData(e),i.data.search(t),i.render()):"string"==typeof e?i.slim.options(e):i.render()})}else this.data.search(t),this.render()},c.prototype.setSearchText=function(e){this.config.searchText=e},c.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},c.prototype.destroy=function(e){void 0===e&&(e=null);var t=e?document.querySelector("."+e+".ss-main"):this.slim.container,i=e?document.querySelector("[data-ssid="+e+"]"):this.select.element;if(t&&i&&(document.removeEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.removeEventListener("scroll",this.windowScroll,!1),i.style.display="",delete i.dataset.ssid,i.slim=null,t.parentElement&&t.parentElement.removeChild(t),this.config.addToBody)){var s=e?document.querySelector("."+e+".ss-content"):this.slim.content;if(!s)return;document.body.removeChild(s)}},c);function c(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=o.debounce(function(e){t.data.contentOpen&&("above"===o.putContent(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())}),this.documentClick=function(e){e.target&&!o.hasClassInTree(e.target,t.config.id)&&t.close()};var i=this.validate(e);i.dataset.ssid&&this.destroy(i.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new s.SSConfig({select:i,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new n.Select({select:i,main:this}),this.data=new r.Data({main:this}),this.slim=new a.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.addEventListener("scroll",this.windowScroll,!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}t.default=l},function(e,t,i){"use strict";t.__esModule=!0;var s=(n.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},n);function n(e){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(" "),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.SSConfig=s},function(e,t,i){"use strict";t.__esModule=!0;var s=i(0),n=(a.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,i=this.element.options;t<i.length;t++){var s=i[t];s.selected=!1;for(var n=0,a=e;n<a.length;n++)a[n].value===s.value&&(s.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},a.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id},a.prototype.addEventListeners=function(){var t=this;this.element.addEventListener("change",function(e){t.main.data.setSelectedFromSelect(),t.main.render()})},a.prototype.addMutationObserver=function(){var t=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(e){t.triggerMutationObserver&&(t.main.data.parseSelectData(),t.main.data.setSelectedFromSelect(),t.main.render(),e.forEach(function(e){"class"===e.attributeName&&t.main.slim.updateContainerDivClass(t.main.slim.container)}))}),this.observeMutationObserver())},a.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},a.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},a.prototype.create=function(e){this.element.innerHTML="";for(var t=0,i=e;t<i.length;t++){var s=i[t];if(s.hasOwnProperty("options")){var n=s,a=document.createElement("optgroup");if(a.label=n.label,n.options)for(var o=0,l=n.options;o<l.length;o++){var r=l[o];a.appendChild(this.createOption(r))}this.element.appendChild(a)}else this.element.appendChild(this.createOption(s))}},a.prototype.createOption=function(t){var i=document.createElement("option");return i.value=""!==t.value?t.value:t.text,i.innerHTML=t.innerHTML||t.text,t.selected&&(i.selected=t.selected),!1===t.display&&(i.style.display="none"),t.disabled&&(i.disabled=!0),t.placeholder&&i.setAttribute("data-placeholder","true"),t.mandatory&&i.setAttribute("data-mandatory","true"),t.class&&t.class.split(" ").forEach(function(e){i.classList.add(e)}),t.data&&"object"==typeof t.data&&Object.keys(t.data).forEach(function(e){i.setAttribute("data-"+s.kebabCase(e),t.data[e])}),i},a);function a(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}t.Select=n},function(e,t,i){"use strict";t.__esModule=!0;var a=i(0),o=i(1),s=(n.prototype.containerDiv=function(){var e=document.createElement("div");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},n.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(" "),e.className="",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,i=this.main.config.class;t<i.length;t++){var s=i[t];""!==s.trim()&&e.classList.add(s)}},n.prototype.singleSelectedDiv=function(){var t=this,e=document.createElement("div");e.classList.add(this.main.config.singleSelected);var i=document.createElement("span");i.classList.add("placeholder"),e.appendChild(i);var s=document.createElement("span");s.innerHTML=this.main.config.deselectLabel,s.classList.add("ss-deselect"),s.onclick=function(e){e.stopPropagation(),t.main.config.isEnabled&&t.main.set("")},e.appendChild(s);var n=document.createElement("span");n.classList.add(this.main.config.arrow);var a=document.createElement("span");return a.classList.add("arrow-down"),n.appendChild(a),e.appendChild(n),e.onclick=function(){t.main.config.isEnabled&&(t.main.data.contentOpen?t.main.close():t.main.open())},{container:e,placeholder:i,deselect:s,arrowIcon:{container:n,arrow:a}}},n.prototype.placeholder=function(){var e=this.main.data.getSelected();if(null===e||e&&e.placeholder){var t=document.createElement("span");t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t.outerHTML)}else{var i="";e&&(i=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e?i:"")}},n.prototype.deselect=function(){if(this.singleSelected){if(!this.main.config.allowDeselect)return void this.singleSelected.deselect.classList.add("ss-hide");""===this.main.selected()?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide")}},n.prototype.multiSelectedDiv=function(){var t=this,e=document.createElement("div");e.classList.add(this.main.config.multiSelected);var i=document.createElement("div");i.classList.add(this.main.config.values),e.appendChild(i);var s=document.createElement("div");s.classList.add(this.main.config.add);var n=document.createElement("span");return n.classList.add(this.main.config.plus),n.onclick=function(e){t.main.data.contentOpen&&(t.main.close(),e.stopPropagation())},s.appendChild(n),e.appendChild(s),e.onclick=function(e){t.main.config.isEnabled&&(e.target.classList.contains(t.main.config.valueDelete)||(t.main.data.contentOpen?t.main.close():t.main.open()))},{container:e,values:i,add:s,plus:n}},n.prototype.values=function(){if(this.multiSelected){for(var e,t=this.multiSelected.values.childNodes,i=this.main.data.getSelected(),s=[],n=0,a=t;n<a.length;n++){var o=a[n];e=!0;for(var l=0,r=i;l<r.length;l++){var c=r[l];String(c.id)===String(o.dataset.id)&&(e=!1)}e&&s.push(o)}for(var d=0,h=s;d<h.length;d++){var u=h[d];u.classList.add("ss-out"),this.multiSelected.values.removeChild(u)}for(t=this.multiSelected.values.childNodes,c=0;c<i.length;c++){e=!1;for(var p=0,m=t;p<m.length;p++)o=m[p],String(i[c].id)===String(o.dataset.id)&&(e=!0);e||(0!==t.length&&HTMLElement.prototype.insertAdjacentElement?0===c?this.multiSelected.values.insertBefore(this.valueDiv(i[c]),t[c]):t[c-1].insertAdjacentElement("afterend",this.valueDiv(i[c])):this.multiSelected.values.appendChild(this.valueDiv(i[c])))}if(0===i.length){var f=document.createElement("span");f.classList.add(this.main.config.disabled),f.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=f.outerHTML}}},n.prototype.valueDiv=function(a){var o=this,e=document.createElement("div");e.classList.add(this.main.config.value),e.dataset.id=a.id;var t=document.createElement("span");if(t.classList.add(this.main.config.valueText),t.innerHTML=a.innerHTML&&!0!==this.main.config.valuesUseText?a.innerHTML:a.text,e.appendChild(t),!a.mandatory){var i=document.createElement("span");i.classList.add(this.main.config.valueDelete),i.innerHTML=this.main.config.deselectLabel,i.onclick=function(e){e.preventDefault(),e.stopPropagation();var t=!1;if(o.main.beforeOnChange||(t=!0),o.main.beforeOnChange){for(var i=o.main.data.getSelected(),s=JSON.parse(JSON.stringify(i)),n=0;n<s.length;n++)s[n].id===a.id&&s.splice(n,1);!1!==o.main.beforeOnChange(s)&&(t=!0)}t&&(o.main.data.removeFromSelected(a.id,"id"),o.main.render(),o.main.select.setValue(),o.main.data.onDataChange())},e.appendChild(i)}return e},n.prototype.contentDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.content),e},n.prototype.searchDiv=function(){var n=this,e=document.createElement("div"),s=document.createElement("input"),a=document.createElement("div");e.classList.add(this.main.config.search);var t={container:e,input:s};return this.main.config.showSearch||(e.classList.add(this.main.config.hide),s.readOnly=!0),s.type="search",s.placeholder=this.main.config.searchPlaceholder,s.tabIndex=0,s.setAttribute("aria-label",this.main.config.searchPlaceholder),s.setAttribute("autocapitalize","off"),s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),s.onclick=function(e){setTimeout(function(){""===e.target.value&&n.main.search("")},10)},s.onkeydown=function(e){"ArrowUp"===e.key?(n.main.open(),n.highlightUp(),e.preventDefault()):"ArrowDown"===e.key?(n.main.open(),n.highlightDown(),e.preventDefault()):"Tab"===e.key?n.main.data.contentOpen?n.main.close():setTimeout(function(){n.main.close()},n.main.config.timeoutDelay):"Enter"===e.key&&e.preventDefault()},s.onkeyup=function(e){var t=e.target;if("Enter"===e.key){if(n.main.addable&&e.ctrlKey)return a.click(),e.preventDefault(),void e.stopPropagation();var i=n.list.querySelector("."+n.main.config.highlighted);i&&i.click()}else"ArrowUp"===e.key||"ArrowDown"===e.key||("Escape"===e.key?n.main.close():n.main.config.showSearch&&n.main.data.contentOpen?n.main.search(t.value):s.value="");e.preventDefault(),e.stopPropagation()},s.onfocus=function(){n.main.open()},e.appendChild(s),this.main.addable&&(a.classList.add(this.main.config.addable),a.innerHTML="+",a.onclick=function(e){if(n.main.addable){e.preventDefault(),e.stopPropagation();var t=n.search.input.value;if(""===t.trim())return void n.search.input.focus();var i=n.main.addable(t),s="";if(!i)return;"object"==typeof i?o.validateOption(i)&&(n.main.addData(i),s=i.value?i.value:i.text):(n.main.addData(n.main.data.newOption({text:i,value:i})),s=i),n.main.search(""),setTimeout(function(){n.main.set(s,"value",!1,!1)},100),n.main.config.closeOnSelect&&setTimeout(function(){n.main.close()},100)}},e.appendChild(a),t.addable=a),t},n.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var i=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=i[i.length-1]}if(t&&t.classList.contains(this.main.config.optgroupLabel)&&(t=null),null===t){var s=e.parentNode;if(s.classList.contains(this.main.config.optgroup)&&s.previousSibling){var n=s.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");n.length&&(t=n[n.length-1])}}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.highlightDown=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.nextSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.nextSibling;else t=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");if(null===t&&null!==e){var i=e.parentNode;i.classList.contains(this.main.config.optgroup)&&i.nextSibling&&(t=i.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")"))}t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),a.ensureElementInView(this.list,t))},n.prototype.listDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.list),e},n.prototype.options=function(e){void 0===e&&(e="");var t,i=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==e)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=e,void this.list.appendChild(t);if(this.main.config.isAjax&&this.main.config.isSearching)return(t=document.createElement("div")).classList.add(this.main.config.option),t.classList.add(this.main.config.disabled),t.innerHTML=this.main.config.searchingText,void this.list.appendChild(t);if(0===i.length){var s=document.createElement("div");return s.classList.add(this.main.config.option),s.classList.add(this.main.config.disabled),s.innerHTML=this.main.config.searchText,void this.list.appendChild(s)}for(var n=function(e){if(e.hasOwnProperty("label")){var t=e,n=document.createElement("div");n.classList.add(c.main.config.optgroup);var i=document.createElement("div");i.classList.add(c.main.config.optgroupLabel),c.main.config.selectByGroup&&c.main.config.isMultiple&&i.classList.add(c.main.config.optgroupLabelSelectable),i.innerHTML=t.label,n.appendChild(i);var s=t.options;if(s){for(var a=0,o=s;a<o.length;a++){var l=o[a];n.appendChild(c.option(l))}if(c.main.config.selectByGroup&&c.main.config.isMultiple){var r=c;i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();for(var t=0,i=n.children;t<i.length;t++){var s=i[t];-1!==s.className.indexOf(r.main.config.option)&&s.click()}})}}c.list.appendChild(n)}else c.list.appendChild(c.option(e))},c=this,a=0,o=i;a<o.length;a++)n(o[a])},n.prototype.option=function(r){if(r.placeholder){var e=document.createElement("div");return e.classList.add(this.main.config.option),e.classList.add(this.main.config.hide),e}var t=document.createElement("div");t.classList.add(this.main.config.option),r.class&&r.class.split(" ").forEach(function(e){t.classList.add(e)}),r.style&&(t.style.cssText=r.style);var c=this.main.data.getSelected();t.dataset.id=r.id,this.main.config.searchHighlight&&this.main.slim&&r.innerHTML&&""!==this.main.slim.search.input.value.trim()?t.innerHTML=a.highlight(r.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):r.innerHTML&&(t.innerHTML=r.innerHTML),this.main.config.showOptionTooltips&&t.textContent&&t.setAttribute("title",t.textContent);var d=this;t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=this.dataset.id;if(!0===r.selected&&d.main.config.allowDeselectOption){var i=!1;if(d.main.beforeOnChange&&d.main.config.isMultiple||(i=!0),d.main.beforeOnChange&&d.main.config.isMultiple){for(var s=d.main.data.getSelected(),n=JSON.parse(JSON.stringify(s)),a=0;a<n.length;a++)n[a].id===t&&n.splice(a,1);!1!==d.main.beforeOnChange(n)&&(i=!0)}i&&(d.main.config.isMultiple?(d.main.data.removeFromSelected(t,"id"),d.main.render(),d.main.select.setValue(),d.main.data.onDataChange()):d.main.set(""))}else{if(r.disabled||r.selected)return;if(d.main.config.limit&&Array.isArray(c)&&d.main.config.limit<=c.length)return;if(d.main.beforeOnChange){var o=void 0,l=JSON.parse(JSON.stringify(d.main.data.getObjectFromData(t)));l.selected=!0,d.main.config.isMultiple?(o=JSON.parse(JSON.stringify(c))).push(l):o=JSON.parse(JSON.stringify(l)),!1!==d.main.beforeOnChange(o)&&d.main.set(t,"id",d.main.config.closeOnSelect)}else d.main.set(t,"id",d.main.config.closeOnSelect)}});var i=c&&a.isValueInArrayOfObjects(c,"id",r.id);return(r.disabled||i)&&(t.onclick=null,d.main.config.allowDeselectOption||t.classList.add(this.main.config.disabled),d.main.config.hideSelectedOption&&t.classList.add(this.main.config.hide)),i?t.classList.add(this.main.config.optionSelected):t.classList.remove(this.main.config.optionSelected),t},n);function n(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}t.Slim=s}],n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2).default;function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i,s});

	var Autocomplete=function(){"use strict";function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}return class{constructor(e,{delay:s=500,clearButton:i=!0,howManyCharacters:h=1,selectFirst:r=!1,insertToInput:o=!1,showAllValues:l=!1,cache:n=!1,disableCloseOnSelect:a=!1,classGroup:c,classPreventClosing:d,classPrefix:u,onSearch:p,onResults:m=(()=>{}),onSubmit:L=(()=>{}),onOpened:v=(()=>{}),onReset:f=(()=>{}),onRender:x=(()=>{}),onClose:A=(()=>{}),noResults:g=(()=>{}),onSelectedItem:b=(()=>{})}){var T;t(this,"init",()=>{const t=this.root;this.clearbutton(),this.output(),t.addEventListener("input",this.handleInput),this.showAll&&t.addEventListener("click",this.handleInput),this.onRender({element:t,results:this.resultList})}),t(this,"cacheAct",(t,e)=>{const s=this.root;this.cache&&("update"===t?s.setAttribute(this.cacheData,e.value):"remove"===t?s.removeAttribute(this.cacheData):s.value=s.getAttribute(this.cacheData))}),t(this,"handleInput",({target:t,type:e})=>{if("true"===this.root.getAttribute("aria-expanded")&&"click"===e)return;const s=t.value.replace(this.regex,"\\$&");if(this.cacheAct("update",t),this.showAll&&"click"===e)return this.reset(),void this.searchItem(s.trim());clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.searchItem(s.trim())},this.delay)}),t(this,"output",()=>{this.setAttr(this.resultList,{id:this.outputUl,tabIndex:"0",role:"listbox"}),this.setAttr(this.resultWrap,{addClass:this.prefix+"-wrapper"}),this.resultWrap.insertAdjacentElement("beforeend",this.resultList),this.root.parentNode.insertBefore(this.resultWrap,this.root.nextSibling)}),t(this,"reset",()=>{var t;this.setAttr(this.root,{"aria-owns":this.id+"-list","aria-expanded":"false","aria-autocomplete":"list","aria-activedescendant":"",role:"combobox",removeClass:"auto-expanded"}),this.resultWrap.classList.remove(this.isActive),this.scrollResultsToTop(),(0==(null===(t=this.matches)||void 0===t?void 0:t.length)&&!this.toInput||this.showAll)&&(this.resultList.innerHTML=""),this.index=this.selectFirst?0:-1,this.onClose()}),t(this,"scrollResultsToTop",()=>{this.resultList.scrollTop=this.resultList.offsetTop-this.resultWrap.offsetHeight}),t(this,"searchItem",t=>{this.value=t,this.onLoading(!0),this.showBtn(),0==t.length&&this.clearButton&&this.cBtn.classList.add("hidden"),this.characters>t.length&&!this.showAll?this.onLoading():this.onSearch({currentValue:t,element:this.root}).then(e=>{const s=this.root.value.length,i=e.length;this.matches=Array.isArray(e)?[...e]:JSON.parse(JSON.stringify(e)),this.onLoading(),this.error(),0==i&&0==s&&this.cBtn.classList.add("hidden"),0==i&&s?(this.root.classList.remove("auto-expanded"),this.reset(),this.noResults({element:this.root,currentValue:t,template:this.results}),this.events()):(i>0||(t=>t&&"object"==typeof t&&t.constructor===Object)(e))&&(this.index=this.selectFirst?0:-1,this.results(),this.events())}).catch(()=>{this.onLoading(),this.reset()})}),t(this,"onLoading",t=>this.root.parentNode.classList[t?"add":"remove"](this.isLoading)),t(this,"error",()=>this.root.classList.remove(this.err)),t(this,"events",()=>{this.root.addEventListener("keydown",this.handleKeys),this.root.addEventListener("click",this.handleShowItems),["mousemove","click"].map(t=>{this.resultList.addEventListener(t,this.handleMouse)}),document.addEventListener("click",this.handleDocClick)}),t(this,"results",t=>{this.setAttr(this.root,{"aria-expanded":"true",addClass:this.prefix+"-expanded"}),this.resultList.innerHTML=0===this.matches.length?this.onResults({currentValue:this.value,matches:0,template:t}):this.onResults({currentValue:this.value,matches:this.matches,classGroup:this.classGroup}),this.resultWrap.classList.add(this.isActive),this.scrollResultsToTop();const e=this.classGroup?`:not(.${this.classGroup})`:"";this.itemsLi=document.querySelectorAll(`#${this.outputUl} > li${e}`),this.selectFirstEl(),this.onOpened({type:"results",element:this.root,results:this.resultList}),this.addAria()}),t(this,"handleDocClick",({target:t})=>{let e=null;(t.closest("ul")&&this.disable||t.closest("."+this.prevClosing))&&(e=!0),t.id===this.id||e||this.reset()}),t(this,"addAria",()=>{for(let t=0;t<this.itemsLi.length;t++)this.setAttr(this.itemsLi[t],{role:"option",tabindex:"-1","aria-selected":"false","aria-setsize":this.itemsLi.length,"aria-posinset":t})}),t(this,"selectFirstEl",()=>{if(this.remAria(document.querySelector("."+this.activeList)),!this.selectFirst)return;const{firstElementChild:t}=this.resultList,e=this.classGroup&&this.matches.length>0&&this.selectFirst?t.nextElementSibling:t;this.setAttr(e,{id:this.selectedOption+"-0",addClass:this.activeList,"aria-selected":"true"}),this.setAriaDes(this.selectedOption+"-0"),this.follow(t)}),t(this,"showBtn",()=>{this.cBtn&&(this.cBtn.classList.remove("hidden"),this.cBtn.addEventListener("click",this.destroy))}),t(this,"setAttr",(t,e)=>{for(let s in e)"addClass"===s?t.classList.add(e[s]):"removeClass"===s?t.classList.remove(e[s]):t.setAttribute(s,e[s])}),t(this,"handleShowItems",()=>{const t=this.resultWrap;this.resultList.textContent.length>0&&!t.classList.contains(this.isActive)&&(this.setAttr(this.root,{"aria-expanded":"true",addClass:this.prefix+"-expanded"}),t.classList.add(this.isActive),this.scrollResultsToTop(),this.selectFirstEl(),this.onOpened({type:"showItems",element:this.root,results:this.resultList}))}),t(this,"handleMouse",t=>{t.preventDefault();const{target:e,type:s}=t,i=e.closest("li"),h=null==i?void 0:i.hasAttribute("role"),r=this.activeList,o=document.querySelector("."+r);i&&h&&("click"===s&&this.getTextFromLi(i),"mousemove"!==s||i.classList.contains(r)||(this.remAria(o),this.setAria(i),this.index=this.indexLiSelected(i),this.onSelected({index:this.index,element:this.root,object:this.matches[this.index]})))}),t(this,"getTextFromLi",t=>{t&&0!==this.matches.length?(this.addToInput(t),this.onSubmit({index:this.index,element:this.root,object:this.matches[this.index],results:this.resultList}),this.disable||(this.remAria(t),this.reset()),this.clearButton&&this.cBtn.classList.remove("hidden"),this.cacheAct("remove")):!this.disable&&this.reset()}),t(this,"firstElement",t=>t.firstElementChild||t),t(this,"addToInput",t=>{this.root.value=this.firstElement(t).textContent.trim()}),t(this,"indexLiSelected",t=>Array.prototype.indexOf.call(this.itemsLi,t)),t(this,"handleKeys",t=>{const e=this.keyCodes,{keyCode:s}=t,i=this.resultWrap.classList.contains(this.isActive),h=this.matches.length+1;switch(this.selectedLi=document.querySelector("."+this.activeList),s){case e.UP:case e.DOWN:if(t.preventDefault(),h<=1&&this.selectFirst||!i)return;s===e.UP?(this.index<0&&(this.index=h-1),this.index-=1):(this.index+=1,this.index>=h&&(this.index=0)),this.remAria(this.selectedLi),h>0&&this.index>=0&&this.index<h-1?(this.onSelected({index:this.index,element:this.root,object:this.matches[this.index]}),this.setAria(this.itemsLi[this.index]),this.toInput&&i&&this.addToInput(this.itemsLi[this.index])):(this.cacheAct(),this.setAriaDes());break;case e.ENTER:this.getTextFromLi(this.selectedLi);break;case e.TAB:case e.ESC:this.reset()}}),t(this,"setAria",t=>{const e=`${this.selectedOption}-${this.indexLiSelected(t)}`;this.setAttr(t,{id:e,"aria-selected":"true",addClass:this.activeList}),this.setAriaDes(e),this.follow(t)}),t(this,"getClassGroupHeight",()=>{const t=document.querySelectorAll(`#${this.outputUl} > li:not(.${this.classGroup})`);let e=0;return[].slice.call(t).map(t=>e+=t.offsetHeight),e}),t(this,"follow",t=>{const e=this.resultList,s=e.previousSibling,i=s?s.offsetHeight:0;if("0"==t.getAttribute("aria-posinset")&&(e.scrollTop=t.offsetTop-this.getClassGroupHeight()),t.offsetTop-i<e.scrollTop)e.scrollTop=t.offsetTop-i;else{const s=t.offsetTop+t.offsetHeight-i;s>e.scrollTop+e.offsetHeight&&(e.scrollTop=s-e.offsetHeight)}}),t(this,"remAria",t=>{t&&this.setAttr(t,{id:"",removeClass:this.activeList,"aria-selected":"false"})}),t(this,"setAriaDes",t=>this.root.setAttribute("aria-activedescendant",t||"")),t(this,"clearbutton",()=>{this.clearButton&&(this.setAttr(this.cBtn,{class:this.prefix+"-clear hidden",type:"button","aria-label":"claar text from input"}),this.root.insertAdjacentElement("afterend",this.cBtn))}),t(this,"destroy",()=>{this.clearButton&&this.cBtn.classList.add("hidden"),this.root.value="",this.root.focus(),this.resultList.textContent="",this.reset(),this.error(),this.onReset(this.root),this.root.removeEventListener("keydown",this.handleKeys),this.root.removeEventListener("click",this.handleShowItems),document.removeEventListener("click",this.handleDocClick)}),this.id=e,this.root=document.getElementById(this.id),this.onSearch=(T=p,Boolean(T&&"function"==typeof T.then)?p:({currentValue:t,element:e})=>Promise.resolve(p({currentValue:t,element:e}))),this.onResults=m,this.onRender=x,this.onSubmit=L,this.onSelected=b,this.onOpened=v,this.onReset=f,this.noResults=g,this.onClose=A,this.delay=s,this.characters=h,this.clearButton=i,this.selectFirst=r,this.toInput=o,this.showAll=l,this.classGroup=c,this.prevClosing=d,this.prefix=u?u+"-auto":"auto",this.disable=a,this.cache=n,this.outputUl=`${this.prefix}-${this.id}-results`,this.cacheData="data-cache-auto-"+this.id,this.isLoading=this.prefix+"-is-loading",this.isActive=this.prefix+"-is-active",this.activeList=this.prefix+"-selected",this.selectedOption=this.prefix+"-selected-option",this.err=this.prefix+"-error",this.regex=/[|\\{}()[\]^$+*?.]/g,this.timeout=null,this.resultWrap=document.createElement("div"),this.resultList=document.createElement("ul"),this.cBtn=document.createElement("button"),this.keyCodes={ESC:27,ENTER:13,UP:38,DOWN:40,TAB:9},this.init()}}}();

	let style = `.ss-main{position: relative;display: inline-block;user-select: none;color: #666;width: 100% }.ss-main .ss-single-selected{display: flex;cursor: pointer;width: 100%;height: 30px;padding: 6px;border: 1px solid #dcdee2;border-radius: 4px;background-color: #fff;outline: 0;box-sizing: border-box;transition: background-color .2s }.ss-main .ss-single-selected.ss-disabled{background-color: #dcdee2;cursor: not-allowed }.ss-main .ss-single-selected.ss-open-above{border-top-left-radius: 0;border-top-right-radius: 0 }.ss-main .ss-single-selected.ss-open-below{border-bottom-left-radius: 0;border-bottom-right-radius: 0 }.ss-main .ss-single-selected .placeholder{display: flex;flex: 1 1 100%;align-items: center;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;text-align: left;width: calc(100% - 30px);line-height: 1em;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none }.ss-main .ss-single-selected .placeholder *{display: flex;align-items: center;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;width: auto }.ss-main .ss-single-selected .placeholder .ss-disabled{color: #dedede }.ss-main .ss-single-selected .ss-deselect{display: flex;align-items: center;justify-content: flex-end;flex: 0 1 auto;margin: 0 6px 0 6px;font-weight: 700 }.ss-main .ss-single-selected .ss-deselect.ss-hide{display: none }.ss-main .ss-single-selected .ss-arrow{display: flex;align-items: center;justify-content: flex-end;flex: 0 1 auto;margin: 0 6px 0 6px }.ss-main .ss-single-selected .ss-arrow span{border: solid #666;border-width: 0 2px 2px 0;display: inline-block;padding: 3px;transition: transform .2s, margin .2s }.ss-main .ss-single-selected .ss-arrow span.arrow-up{transform: rotate(-135deg);margin: 3px 0 0 0 }.ss-main .ss-single-selected .ss-arrow span.arrow-down{transform: rotate(45deg);margin: -3px 0 0 0 }.ss-main .ss-multi-selected{display: flex;flex-direction: row;cursor: pointer;min-height: 30px;width: 100%;padding: 0 0 0 3px;border: 1px solid #dcdee2;border-radius: 4px;background-color: #fff;outline: 0;box-sizing: border-box;transition: background-color .2s }.ss-main .ss-multi-selected.ss-disabled{background-color: #dcdee2;cursor: not-allowed }.ss-main .ss-multi-selected.ss-disabled .ss-values .ss-disabled{color: #666 }.ss-main .ss-multi-selected.ss-disabled .ss-values .ss-value .ss-value-delete{cursor: not-allowed }.ss-main .ss-multi-selected.ss-open-above{border-top-left-radius: 0;border-top-right-radius: 0 }.ss-main .ss-multi-selected.ss-open-below{border-bottom-left-radius: 0;border-bottom-right-radius: 0 }.ss-main .ss-multi-selected .ss-values{display: flex;flex-wrap: wrap;justify-content: flex-start;flex: 1 1 100%;width: calc(100% - 30px) }.ss-main .ss-multi-selected .ss-values .ss-disabled{display: flex;padding: 4px 5px;margin: 2px 0;line-height: 1em;align-items: center;width: 100%;color: #dedede;overflow: hidden;text-overflow: ellipsis;white-space: nowrap }@keyframes scaleIn{0%{transform: scale(0);opacity: 0 }100%{transform: scale(1);opacity: 1 }}@keyframes scaleOut{0%{transform: scale(1);opacity: 1 }100%{transform: scale(0);opacity: 0 }}.ss-main .ss-multi-selected .ss-values .ss-value{display: flex;user-select: none;align-items: center;font-size: 12px;padding: 3px 5px;margin: 3px 5px 3px 0;color: #fff;background-color: #5897fb;border-radius: 4px;animation-name: scaleIn;animation-duration: .2s;animation-timing-function: ease-out;animation-fill-mode: both }.ss-main .ss-multi-selected .ss-values .ss-value.ss-out{animation-name: scaleOut;animation-duration: .2s;animation-timing-function: ease-out }.ss-main .ss-multi-selected .ss-values .ss-value .ss-value-delete{margin: 0 0 0 5px;cursor: pointer }.ss-main .ss-multi-selected .ss-add{display: flex;flex: 0 1 3px;margin: 9px 12px 0 5px }.ss-main .ss-multi-selected .ss-add .ss-plus{display: flex;justify-content: center;align-items: center;background: #666;position: relative;height: 10px;width: 2px;transition: transform .2s }.ss-main .ss-multi-selected .ss-add .ss-plus:after{background: #666;content: "";position: absolute;height: 2px;width: 10px;left: -4px;top: 4px }.ss-main .ss-multi-selected .ss-add .ss-plus.ss-cross{transform: rotate(45deg) }.ss-content{position: absolute;width: 100%;margin: -1px 0 0 0;box-sizing: border-box;border: solid 1px #dcdee2;z-index: 1010;background-color: #fff;transform-origin: center top;transition: transform .2s, opacity .2s;opacity: 0;transform: scaleY(0) }.ss-content.ss-open{display: block;opacity: 1;transform: scaleY(1) }.ss-content .ss-search{display: flex;flex-direction: row;padding: 8px 8px 6px 8px }.ss-content .ss-search.ss-hide{height: 0;opacity: 0;padding: 0;margin: 0 }.ss-content .ss-search.ss-hide input{height: 0;opacity: 0;padding: 0;margin: 0 }.ss-content .ss-search input{display: inline-flex;font-size: inherit;line-height: inherit;flex: 1 1 auto;width: 100%;min-width: 0;height: 30px;padding: 6px 8px;margin: 0;border: 1px solid #dcdee2;border-radius: 4px;background-color: #fff;outline: 0;text-align: left;box-sizing: border-box;-webkit-box-sizing: border-box;-webkit-appearance: textfield }.ss-content .ss-search input::placeholder{color: #8a8a8a;vertical-align: middle }.ss-content .ss-search .ss-addable{display: inline-flex;justify-content: center;align-items: center;cursor: pointer;font-size: 22px;font-weight: 700;flex: 0 0 30px;height: 30px;margin: 0 0 0 8px;border: 1px solid #dcdee2;border-radius: 4px;box-sizing: border-box }.ss-content .ss-addable{padding-top: 0 }.ss-content .ss-list{max-height: 200px;overflow-x: hidden;overflow-y: auto;text-align: left }.ss-content .ss-list .ss-optgroup .ss-optgroup-label{padding: 6px 10px 6px 10px;font-weight: 700 }.ss-content .ss-list .ss-optgroup .ss-option{padding: 6px 6px 6px 25px }.ss-content .ss-list .ss-optgroup-label-selectable{cursor: pointer }.ss-content .ss-list .ss-optgroup-label-selectable:hover{color: #fff;background-color: #5897fb }.ss-content .ss-list .ss-option{padding: 6px 10px 6px 10px;cursor: pointer;user-select: none }.ss-content .ss-list .ss-option *{display: inline-block }.ss-content .ss-list .ss-option.ss-highlighted,.ss-content .ss-list .ss-option:hover{color: #fff;background-color: #5897fb }.ss-content .ss-list .ss-option.ss-disabled{cursor: not-allowed;color: #dedede;background-color: #fff }.ss-content .ss-list .ss-option:not(.ss-disabled).ss-option-selected{color: #666;background-color: rgba(88, 151, 251, .1) }.ss-content .ss-list .ss-option.ss-hide{display: none }.ss-content .ss-list .ss-option .ss-search-highlight{background-color: #fffb8c }select[data-ssid]{pointer-events: none;opacity: 0;display: flex!important;position: absolute }:root{--close-button: url("data:image/svg xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M18.984 6.422 13.406 12l5.578 5.578-1.406 1.406L12 13.406l-5.578 5.578-1.406-1.406L10.594 12 5.016 6.422l1.406-1.406L12 10.594l5.578-5.578z'/></svg>");--loupe-icon: url("data:image/svg xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='#929292' d='M16.041 15.856a.995.995 0 0 0-.186.186A6.97 6.97 0 0 1 11 18c-1.933 0-3.682-.782-4.95-2.05S4 12.933 4 11s.782-3.682 2.05-4.95S9.067 4 11 4s3.682.782 4.95 2.05S18 9.067 18 11a6.971 6.971 0 0 1-1.959 4.856zm5.666 4.437-3.675-3.675A8.967 8.967 0 0 0 20 11c0-2.485-1.008-4.736-2.636-6.364S13.485 2 11 2 6.264 3.008 4.636 4.636 2 8.515 2 11s1.008 4.736 2.636 6.364S8.515 20 11 20a8.967 8.967 0 0 0 5.618-1.968l3.675 3.675a.999.999 0 1 0 1.414-1.414z'/></svg>") }.auto-search{display: block;position: relative;width: 100% }.auto-search input{border: 1px solid #d7d7d7;box-shadow: none;box-sizing: border-box;font-size: 16px;padding: 12px 45px 12px 10px;width: 100% }.auto-search input:focus{border: 1px solid #858585;outline: 0 }.auto-search input::-ms-clear{display: none }.auto-search ul{list-style: none;margin: 0;overflow: auto;padding: 0 }.auto-search ul li{cursor: pointer;margin: 0;overflow: hidden;padding: 10px;position: relative }.auto-search ul li:not(:last-child){border-top: none }.auto-search ul li[disabled]{background: #ececec;opacity: .5;pointer-events: none }.auto-search .auto-expanded{border: 1px solid #858585;outline: 0 }.auto-search.loupe:before{filter: invert(60%) }.auto-is-loading:after{animation: auto-spinner .6s linear infinite;border-color: #d9d9d9 grey grey #d9d9d9;border-radius: 50%;border-style: solid;border-width: 2px;bottom: 0;box-sizing: border-box;content: "";height: 20px;margin: auto;position: absolute;right: 10px;top: 0;width: 20px }.auto-is-loading .auto-clear{display: none }@keyframes auto-spinner{to{transform: rotate(1turn) }}li.loupe:before{bottom: auto;top: 15px }.loupe input{padding: 12px 45px 12px 40px }.loupe:before{background-image: var(--loupe-icon);bottom: 0;content: "";height: 17px;left: 10px;margin: auto;position: absolute;top: 0;width: 17px }.auto-selected:before{opacity: 1 }.auto-clear{align-items: center;background-color: transparent;border: none;bottom: 0;cursor: pointer;display: flex;height: auto;justify-content: center;margin: auto;position: absolute;right: 0;top: 0;width: 40px }.auto-clear:before{content: var(--close-button);height: 24px;line-height: 100%;width: 24px }.auto-clear span{display: none }.auto-wrapper{background-color: #fff;border: 1px solid #858585;border-top: none;box-sizing: border-box;display: none;overflow: hidden }.auto-wrapper ul>.loupe{padding-left: 40px }.auto-wrapper.auto-is-active{display: block;margin-top: -1px;position: absolute;width: 100%;z-index: 99999 }.auto-selected{background-color: #e6e6e6 }.auto-selected li:before{border-top: none }.auto-error{border: 1px solid #ff3838 }.auto-error::placeholder{color: #f66;opacity: 1 }.hidden{display: none }.hdapi-loading{opacity: .8;cursor: wait }.hdapi-container{font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size: 16px }.hdapi-container h1{font-size: 2em;line-height: 1em }.hdapi-personality .hdapi-item{background: #bec4e1 }.hdapi-design .hdapi-item{background: #edc18a;color: #fff}#hdapi-page-form{max-width: 500px;padding: 20px;margin: auto;box-sizing: border-box }.hdapi-form-field{padding: 5px 0 }.hdapi-form-field label{display: block;padding: 4px 0 3px 0 }.hdapi-form-actions input[type=submit]{width: 100%;padding: 20px 15px;background: #222;color: #fff;cursor: pointer;border: 0 }.hdapi-form-actions input[type=submit]:hover{background: #000 }p.hdapi-note{font-size: .8em }button.auto-clear{background: 0 0 }.three-columns .hdapi-form-field.year{width: 32%;float: left }.three-columns .hdapi-form-field.month{width: 33%;float: left;margin: 0 1% }.three-columns .hdapi-form-field.day{width: 32%;float: left }.two-columns .hdapi-form-field.hours{width: 49%;float: left }.two-columns .hdapi-form-field.minutes{width: 49%;float: right }.clear{clear: both }#hdapi-page-result{max-width: 630px;margin: auto;box-sizing: border-box }.hdapi-orientation-landscape{max-width: 1200px!important;margin: auto;box-sizing: border-box }.hdapi-hd-chart{width: 100%;float: left }.hdapi-hd-properties{width: 100%;float: right }.hdapi-container{width: 100% }.hdapi-page{width: 100% }.hdapi-svg{width: calc(100% - 140px);height: auto;float: left;text-align: center;box-sizing: border-box;padding: 10px }.hdapi-svg svg{max-width: 100%;height: auto }.hdapi-design,.hdapi-personality{width: 70px;float: left }.hdapi-personality{float: right }.hdapi-icon{width: 18px;height: 18px;position: absolute;top: 6px }.hdapi-icon svg{width: 18px;height: 18px }.hdapi-item{padding: 3px;margin: 1px 0;font-size: .8em;position: relative }a#hdapi-new-chart{display: inline-block;margin-bottom: 30px }.hdapi-hd-properties .hdapi-item{display: flex;font-size: 1em;padding: 5px 0 }.hdapi-hd-properties .hdapi-item .hdpi-property-label{flex: 40%;padding: 0;margin: 0;font-weight: 700 }.hdapi-hd-properties .hdapi-item .hdpi-property-description{flex: 60%;padding: 0;margin: 0 }.hdapi-arrows{position: relative;top: 0;width: 80%;margin: auto }.hdapi-arrows-left{width: 70px;position: absolute;left: 0 }.hdapi-arrows-right{width: 70px;position: absolute;right: 0 }@media (max-width:1200px){#hdapi-page-result{padding: 20px }}@media (max-width:750px){.hdapi-arrows{width: 95% }}.hdapi-heading{font-size: .8em;text-align: center }.hdapi-clear{clear: both }@media (max-width:750px){.hdapi-hd-properties .hdapi-item{font-size: 1em;padding: 3px 0 }.hdapi-hd-chart,.hdapi-hd-properties{width: 100% }.hdapi-hd-properties{padding: 20px 0 }.hdapi-icon{width: 12px;height: 12px;top: 3px }.hdapi-fixing-state svg,.hdapi-icon svg{width: 100%;height: auto }.hdapi-fixing-state svg{width: 6px;height: 6px }.hdapi-heading{font-size: 10px }.hdapi-design,.hdapi-personality{width: 50px;float: left }.hdapi-label{font-size: 10px;padding: 2px 3px 2px 5px;left: 12px }.hdapi-fixing-state{width: 7px;height: 7px }.hdapi-svg{width: calc(100% - 100px) }#hdapi-page-result{padding: 20px }}a#hdapi-new-chart{color: #000 }.ss-main .ss-single-selected{border-radius: 0;height: 44px }.ss-main .ss-single-selected .placeholder{background: 0 0 }.hdapi-label{height: 25px;top: 5px;position: relative;display: block;text-align: left;padding: 0 5px;width: 35px;left: 20px }.hdapi-fixing-state{width: 10px;position: absolute;top: 7px;right: 3px }@media (max-width:750px){.hdapi-label{height: auto;top: auto;position: relative;left: 12px;width: 35px }.hdapi-fixing-state{right: -2px;top: 7px }}@media (max-width:660px){.hdapi-container{font-size: 12px }.hdapi-svg{padding-top: 0 }.hdapi-arrows{top: 0 }}.hdapi-reverse svg{transform: rotate(180deg);-webkit-transform: rotate(180deg);-moz-transform: rotate(180deg);-ms-transform: rotate(180deg);-o-transform: rotate(180deg) }.hdapi-arrows-left span{display: inline-block;margin-left: 7px }.hdapi-arrows-right span{display: inline-block;margin-right: 7px }.hdapi-body svg{width: 100%;height: auto;max-height: 481px }.hdapi-cta{width: 100%;clear: both }.hdapi-cta a{display: inline-block }#hdapi-logo img{display: none }@media print{body{font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size: 16px!important }.hdapi-hd-chart{width: 49%;float: left }.hdapi-cta{display: none }.hdapi-hd-chart{width: 49%;float: left }.hdapi-hd-properties{width: 49%;float: right }.hdapi-design,.hdapi-personality{width: 70px!important;float: left }.hdapi-svg{width: calc(100% - 140px)!important;height: auto;float: left;text-align: center;box-sizing: border-box;padding: 10px }.hdapi-icon svg{width: 18px;height: 18px }.hdapi-item .hdapi-label{font-size: 14px;left: 20px }.hdapi-item{margin: 2px 0!important;padding: 2px!important }.hdapi-body svg{width: 100%!important;height: auto;max-height: 421px!important }a#hdapi-download-pdf,a#hdapi-new-chart{display: none!important }.hdapi-icon{width: 16px;height: 16px;position: absolute;top: 7px;left: 2px }.hdapi-personality .hdapi-icon{left: initial }.hdapi-hd-properties .hdapi-item{display: flex;font-size: 14px!important;padding: 2px 0!important }#hdapi-page-result{max-width: 1200px!important;margin: auto;box-sizing: border-box }.hdapi-orientation-landscape{max-width: 1200px!important;margin: auto;box-sizing: border-box }@page{size: A4 landscape }.hdapi-orientation-landscape .hdapi-hd-chart{width: 49%;float: left }.hdapi-orientation-landscape .hdapi-hd-properties{width: 47%;float: right;padding-top: 10px }.hdapi-heading{font-size: 13px;text-align: center }.hdapi-hd-properties .hdapi-item .hdpi-property-description{line-height: 22px }.hdapi-loading{opacity: 1 }#hdapi-logo img{display: inline-block;width: auto;height: 60px;margin-bottom: 20px }.hdapi-report-list{display:none}#hdapi-charts-selector{display:none}}.hdapi-cta a#hdapi-download-pdf,.hdapi-cta a#hdapi-new-chart{display: inline-block;padding: 5px }.hdapi-copyright{font-size: 12px }.hdapi-terms{position: relative;margin-top: 5px;margin-bottom: 10px;padding-left: 25px }#hdapi-terms-input{position: absolute;left: 0;top: 4px }label.hdapi-terms-label{cursor: pointer }#hdapi-load-font{visibility:hidden}.hdpi-property-subdescription,.hdapi-property-subdescription{font-size:0.8em;padding-top:3px}#hdapi-tip{position:fixed;padding:10px;background:#f6f6f6;border-radius:3px;max-width:200px;font-family:sans-serif;border-radius:4px;box-shadow:9px 9px 5px -6px #000;font-size:16px;line-height:20px;z-index:999}.hdapi-tip-description{font-size:14px;padding-top:5px;opacity:.8;line-height:20px}#iframely-content{text-align:initial}.hdapi-charts-selector{margin: 20px 0}#hdapi-charts-selector select{max-width:300px;margin-right:20px}#hdapi-charts-selector a{display:inline-block;padding:2px 5px}#error-label{color:red;display:none;}.hdapi-design .hdapi-icon-Moon{transform: scaleX(-1);}.hdapi-personality .hdapi-label{left:10px;padding-left:4px}.hdapi-personality .hdapi-icon{right:3px}.hdapi-personality .hdapi-fixing-state{left:3px;right:0px}@media (max-width:750px){.hdapi-personality .hdapi-label{left:3px}}`;





	style += `a#hdapi-new-chart{display:block}.hdapi-hd-chart{width:49%;float:left}.hdapi-hd-properties{width:49%;float:right}@media (max-width:900px){.hdapi-hd-chart,.hdapi-hd-properties{width:100%}a#hdapi-new-chart{display:inline-block}}`;

	style += `.hdapi-body {
    background-image: url(https://bucket.mlcdn.com/a/3525/3525872/images/7a07e97acb42a6e36d232fa841b7d7be2a0abd0b.png);
    background-position: center;
    background-size: 379px;
    background-repeat: no-repeat;
}

@media (max-width: 660px) {
    .hdapi-body {
        background-image: url(https://bucket.mlcdn.com/a/3525/3525872/images/7a07e97acb42a6e36d232fa841b7d7be2a0abd0b.png);
        background-position: center;
        background-size: 279px;
        background-repeat: no-repeat;
    }
}

g[stroke-width] {
    stroke-width: 1;
}

`;



	style += `.hdapi-report-box{padding:15px;border-radius:4px;border:1px solid #ccc;margin:10px;font-size:16px;max-width:320px;width:320px;float:left;background:#fbfbfb;}.hdapi-report-box h3{margin:0;padding:0 0 4px 0;font-size:1.3em}.hdapi-report-description{padding:0 0 20px 0}.hdapi-report-price{width:80px;display:inline-block;line-height:22px;padding:10px 0x}.hdapi-report-box form{width:100px;display:inline-block;margin-bottom:0}.hdapi-report-box form input[type=submit]{border:0;border-radius:4px;font-size:16px;display:inline-block;line-height:22px;padding:10px 25px;cursor:pointer;min-width:100px;background:#358c00;color:#fff}.hdapi-report-box form input[type=submit]:hover{background:#307b02}.hdapi-report-list{padding-top:25px}.hdapi-overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.hdapi-popup{margin:70px auto;padding:20px;background:#fff;border-radius:5px;width:320px;text-align:center;position:relative;transition:all 5s ease-in-out}.hdapi-popup h2{margin-top:0;color:#333;font-size:1.5em}.hdapi-popup .hdapi-close{position:absolute;top:0;right:10px;transition:all .2s;font-size:30px;font-weight:700;text-decoration:none;color:#d3d3d3}.hdapi-popup .hdapi-close:hover{color:#333}.hdapi-popup .hdapi-content{max-height:30%;overflow:auto}.hdapi-payment-pending{font-size:16px}.hdapi-payment-pending p{padding:10px 0;margin:0;font-size:16px}input.hdapi-report-download{border:0;border-radius:4px;font-size:16px;display:inline-block;line-height:22px;padding:10px 25px;cursor:pointer;min-width:100px;background:#358c00;color:#fff;margin:10px 0}input.hdapi-report-download:hover{background:#307b02}.hdapi-loader{width:64px;height:64px;border-radius:50%;border:4px solid rgb(127 127 163 / 20%);margin:30px auto}.hdapi-loader:before{display:block;position:relative;left:calc(4px * -1);top:calc(4px * -1);content:' ';width:64px;height:64px;border-radius:50%;border:4px solid;border-color:#4caf50 transparent transparent transparent;animation:loading-rotate .8s ease-out infinite}@keyframes loading-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}`;

document.currentScript
	.insertAdjacentHTML('afterend', `<style id="hdapi-style">${style}</style>`);

document.currentScript
	.insertAdjacentHTML('afterend', `<style id="hdapi-relationship-style"></style>`);

let strings = {
	form: {
		name: 'Nom',
		first_name: 'Prnom',
		last_name: 'Nom',
		year: 'Anne',
		month: 'Mois',
		month_names: [
							'Janvier',
							'Fvrier',
							'Mars',
							'Avril',
							'Mai',
							'Juin',
							'Juillet',
							'Aot',
							'Septembre',
							'Octobre',
							'Novembre',
							'Dcembre',
					],
		day: 'Jour',
		hour: 'Heure',
		minute: 'Minute',
		dropdown_placeholder: 'Rechercher',
		place_of_birth: 'Ville de naissance',
		email_address: 'Adresse e-mail ',
		newsletter_terms_text: ``,
		submit_button: 'Dmarrer maintenant',
		current_transit: 'Transit actuel'
	},
	chart: {
		new_chart: 'Crer un nouveau Design',
		new_relationship_chart: 'Crer une nouvelle association de Design',
		download_pdf: 'Tlcharger mon livret de synthse offert',
		select_chart: 'Slectionnez votre Design',
		edit: 'Editer',
		delete: 'Effacer',
		pdf_filename: 'Nom du PDF',
		design: 'Design',
		personality: 'Personnalit',
		birth_date: 'Date de naissance',
		age: '',
		birth_place: 'Ville de naissance',
		design_date: 'Date du Design',
		copyright_text: ' happyhumandesign.fr'
	},
	bodygraph_readings_report: {
		free: 'Offert',
		buy_now: 'Obtenir le PDF',
		download_now: 'Obtenir le PDF',
		pdf_filename: 'report',
		payment_success: 'Merci pour votre paiement !',
		payment_success_message: 'Votre lien de tlchargement est sur le point d tre disponible. ',
		dont_close_page: 'Ne fermez pas la page svp.',
		payment_failed: 'Le paiment a chou !',
		payment_failed_message: 'La transaction n&amp;#039;a pas t valide et votre compte n&amp;#039;a pas t dbit.'
	}
};


let containerId = Math.random()
	.toString(16)
	.slice(2);

let containerEl = null;

if (document.currentScript.parentElement.nodeName == 'HEAD') {
	document.addEventListener('DOMContentLoaded', function () {
		document.body
			.innerHTML = `<div id="hdapi-${containerId}" class="hdapi-container"></div>`;

		init();
	});
} else {
	document.currentScript
		.insertAdjacentHTML('afterend', `<div id="hdapi-${containerId}" class="hdapi-container"></div>`);

	init();
}

function init() {
	containerEl = document.getElementById(`hdapi-${containerId}`),
		hdUrl = null,
		hdData = null,
		hdDataParams = null,
		isRelationshipChart = false;

	let parameters;

	
	if (typeof Wix != 'undefined') {
		if (window.location.pathname.includes('/chart/')) {
			parameters = atob(window.location.pathname.split('/chart/')[1])
				.replace('email_address', '__');
		}
	}

	try {
		if (typeof window.top.websiteID != 'undefined') {
			window.location.hash = window.top.location.hash;
		}
	} catch (err) {}

	try {
		if (typeof window.top.wsb != 'undefined') {
			window.location.hash = window.top.location.hash;
		}
	} catch (err) {}

	try {
		if (typeof window.top.Astro != 'undefined') {
			window.location.hash = window.top.location.hash;
		}
	} catch (e) {}

	if (window.location.hash.startsWith('#chart,')) {
		parameters = window.location.hash
			.split('#chart,')[1];

		if (parameters.includes('&')) {
			parameters = parameters.split('&')[0];
		}

		parameters = atob(parameters)
			.replace('email_address', '__');
	}

	if (parameters) {
		//formEl.classList.add('hdapi-loading');

		const requestData = new URLSearchParams(parameters);

		if (typeof parameters === 'string' || parameters instanceof String) {
			if (parameters.includes('relationship')) {
				isRelationshipChart = true;
			}
		}

		fetch('https://embed.bodygraphchart.com/v1/14027/generate?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f', {
			method: 'post',
			body: requestData
		})
			.then((response) => response.json())
			.then((data) => {
				hdDataParams = requestData;
				hdData = data;

				if (hdData) { // check for errors
					createChartPage();

					document.querySelector(`.hdapi-container`)
						.scrollIntoView();
				} else {
					createFormPage();
				}
			})
			.catch((error) => {
				console.log(error);

				createFormPage();
			})
			.finally(() => {
				// formEl.classList.remove('hdapi-loading');
			});

		// createChartPage();
	} else {
		let enableTransitChart = false;

		
		createFormPage(enableTransitChart);
	}
}

function createFormPage(enableTransitChart) {
	let html = `
		<div class="hdapi-page" id="hdapi-page-form">
			<form method="post" class="hdapi-form">
																			<div class="two-columns">
							<div class="hdapi-form-field hours">
								<label for="first_name">${strings.form.first_name}</label>
								<div class="auto-search">
									<input type="text" name="first_name" id="first_name" tabindex="1" required>
								</div>
							</div>
							<div class="hdapi-form-field minutes">
								<label for="last_name">${strings.form.last_name}</label>
								<div class="auto-search">
									<input type="text" name="last_name" id="last_name" tabindex="2" required>
								</div>
							</div>
						</div>
										<div class="three-columns">
						<div class="hdapi-form-field year">
							<label for="year">${strings.form.year}</label>
							<select name="year" id="year" tabindex="2" required>
								<option value=""></option>
							</select>
						</div>
						<div class="hdapi-form-field month">
							<label for="month">${strings.form.month}</label>
							<select name="month" id="month" tabindex="3" required>
								<option value=""></option>
							</select>
						</div>
						<div class="hdapi-form-field day">
							<label for="day">${strings.form.day}</label>
							<select name="day" id="day" tabindex="4" required>
								<option value=""></option>
							</select>
						</div>
						<div class="clear"></div>
					</div>
					<div class="two-columns">
						<div class="hdapi-form-field hours">
							<label for="hour">${strings.form.hour}</label>
							<select name="hour" id="hour" tabindex="5" required>
								<option value=""></option>
							</select>
						</div>
						<div class="hdapi-form-field minutes">
							<label for="minute">${strings.form.minute}</label>
							<select name="minute" id="minute" tabindex="6" required>
								<option value=""></option>
							</select>
						</div>
						<div class="clear"></div>
					</div>
								<div class="hdapi-form-field">
					<label for="birthplace">${strings.form.place_of_birth}</label>
					<div class="auto-search">
						<input type="text" name="birthplace" class="location" id="birthplace" tabindex="7" autocomplete="off" required>
						<span id="error-label"></span>
					</div>
					<input type="hidden" name="timezone" id="timezone">
					<input type="hidden" name="latitude" id="latitude">
					<input type="hidden" name="longitude" id="longitude">
				</div>
	`;

				
									if (!isRelationshipChart) {
						html += `
							<div class="hdapi-form-field hdapi-form-field-newsletter">
								<label for="email_address">${strings.form.email_address}</label>
								<div class="auto-search">
									<input type="email" name="email_address" id="email_address" tabindex="9" >
								</div>
						`;

						
						html += `</div>`;
					}
				
	html += `
				<div class="hdapi-form-actions">
					<input type="submit" value="${strings.form.submit_button}" id="hdapi-submit" tabindex="11">
				</div>
			</form>
			<div id="hdapi-transit-chart"></div>
			<div class="clear"></div>
		</div>
	`;

	if (enableTransitChart) {
		const date = new Date();

					const transitDate = 'currentTime';
		
					const transitTimezone = 'UTC';
		
		let requestData = null;

		if (transitDate == 'everyHour') {
			requestData = new URLSearchParams(`name=Transit&transit=everyHour&transit=${date.getUTCFullYear()}&month=${('0' + (date.getUTCMonth() + 1)).slice(-2)}&day=${('0' + date.getUTCDate()).slice(-2)}&hour=${('0' + date.getUTCHours()).slice(-2)}&minute=00&birthplace=UTC&timezone=${transitTimezone}`);
		} else if (transitDate == 'everyDay') {
			requestData = new URLSearchParams(`name=Transit&transit=everyDay&year=${date.getUTCFullYear()}&month=${('0' + (date.getUTCMonth() + 1)).slice(-2)}&day=${('0' + date.getUTCDate()).slice(-2)}&hour=00&minute=00&birthplace=UTC&timezone=${transitTimezone}`);
		} else {
			requestData = new URLSearchParams(`name=Transit&transit=currentTime&year=${date.getUTCFullYear()}&month=${('0' + (date.getUTCMonth() + 1)).slice(-2)}&day=${('0' + date.getUTCDate()).slice(-2)}&hour=${('0' + date.getUTCHours()).slice(-2)}&minute=${('0' + date.getUTCMinutes()).slice(-2)}&birthplace=UTC&timezone=${transitTimezone}`);
		}

		fetch('https://embed.bodygraphchart.com/v1/14027/generate?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f', {
			method: 'post',
			body: requestData
		})
			.then((response) => response.json())
			.then((data) => {
				hdData = data;

				if (hdData) { // check for errors
					createTransitChart();

					if (typeof Wix != 'undefined') {
						Wix.setHeight(containerEl.clientHeight);
					}
				}
			})
			.catch((error) => {
				console.log(error);
			});
	}

	containerEl.innerHTML = html;

	
	let selectEl = document.querySelector(`#hdapi-${containerId} #year`),
		currentYear = 2030;

	for (let i = 0; i <= 150; i++) {
		let value = currentYear - i;

		let option = document.createElement('option');
		option.value = value;
		option.innerHTML = value;
		selectEl.appendChild(option);
	}

	new SlimSelect({
		select: selectEl,
		searchPlaceholder: strings.form.dropdown_placeholder
	});

	$('.year input').attr('tabindex', 1);

	selectEl = document.querySelector(`#hdapi-${containerId} #month`),
		monthNames = strings.form.month_names;

	for (let i = 0; i <= 11; i++) {
		let value = (`0${(i + 1)}`).slice(-2);

		let option = document.createElement('option');
		option.value = value;
		option.innerHTML = monthNames[i];
		selectEl.appendChild(option);
	}

	new SlimSelect({
		select: selectEl,
		searchPlaceholder: strings.form.dropdown_placeholder
	});

	$('.month input').attr('tabindex', 2);

	selectEl = document.querySelector(`#hdapi-${containerId} #day`);

	for (let i = 1; i <= 31; i++) {
		let value = (`0${i}`).slice(-2);

		let option = document.createElement('option');
		option.value = value;
		option.innerHTML = value;
		selectEl.appendChild(option);
	}

	new SlimSelect({
		select: selectEl,
		searchPlaceholder: strings.form.dropdown_placeholder
	});

	$('.day input').attr('tabindex', 3);

	selectEl = document.querySelector(`#hdapi-${containerId} #hour`);

	for (let i = 0; i <= 23; i++) {
		let value = (`0${i}`).slice(-2);

		let option = document.createElement('option');
		option.value = value;

					option.innerHTML = value;
		
		selectEl.appendChild(option);
	}

	new SlimSelect({
		select: selectEl,
		searchPlaceholder: strings.form.dropdown_placeholder
	});

	$('.hours input').attr('tabindex', 4);

	selectEl = document.querySelector(`#hdapi-${containerId} #minute`);

	for (let i = 0; i <= 59; i++) {
		let value = (`0${i}`).slice(-2);

		let option = document.createElement('option');
		option.value = value;
		option.innerHTML = value;
		selectEl.appendChild(option);
	}

	new SlimSelect({
		select: selectEl,
		searchPlaceholder: strings.form.dropdown_placeholder
	});

	$('.minutes input').attr('tabindex', 5);

	document.querySelector(`#hdapi-${containerId} label[for="birthplace"]`)
		.setAttribute('for', `birthplace-${containerId}`);

	document.querySelector(`#hdapi-${containerId} .location`)
		.setAttribute('id', `birthplace-${containerId}`);

	const errorLabelEl = document.getElementById('error-label');

	var timeoutId;

	new Autocomplete(`birthplace-${containerId}`, {
		disableCloseOnSelect: false,
		delay: 250,
		howManyCharacters: 2,
		onSearch: ({ currentValue }) => {
			return new Promise((resolve) => {
				fetch(`https://app.bodygraphchart.com/locations/cities?query=${encodeURI(currentValue)}&limit=10`)
					.then((response) => response.json())
					.then((data) => {
						resolve(data);
					})
					.catch((error) => {
						console.error(error);
				});
			});
		},
		onResults: ({ currentValue, matches, template, classGroup }) => {
			const regex = new RegExp(currentValue, 'gi');

			return matches === 0 ? template : matches.map((el, index, array) => {
				let formattedName = el.name;

				if (el.region && el.region.name) {
					if (el.name !== el.region.name) {
						formattedName += `, ${el.region.name}`;
					}
				}

				if (el.region && el.region.country && el.region.country.name) {
					formattedName += `, ${el.region.country.name}`;
				}

				return `<li>${formattedName.replace(regex, (str) => `<span class="auto-matched">${str}</span>`)}</li>`;
			}).join('');
		},
		onSubmit: ({ index, element, object, results }) => {
			clearTimeout(timeoutId);

			errorLabelEl.style.display = 'none';

			let formattedName = object.name;

			if (object.region && object.region.name) {
				if (object.name !== object.region.name) {
					formattedName += `, ${object.region.name}`;
				}
			}

			if (object.region && object.region.country && object.region.country.name) {
				formattedName += `, ${object.region.country.name}`;
			}

			element.value = formattedName;

			document.querySelector(`#hdapi-${containerId} #timezone`).value = object.timezone;
			document.querySelector(`#hdapi-${containerId} #latitude`).value = object.latitude;
			document.querySelector(`#hdapi-${containerId} #longitude`).value = object.longitude;
		}
	});

	/**
		new Autocomplete(`birthplace-${containerId}`, {
			disableCloseOnSelect: false,
			delay: 250,
			howManyCharacters: 2,
			onSearch: ({ currentValue }) => {
				return new Promise((resolve) => {
					fetch(`https://embed.bodygraphchart.com/api/v2/locations/search?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f&query=${encodeURI(currentValue)}`)
						.then((response) => response.json())
						.then((data) => {
							resolve(data.result);
						})
						.catch((error) => {
							console.error(error);
					});
				});
			},
			onResults: ({ currentValue, matches, template, classGroup }) => {
				const regex = new RegExp(currentValue, 'gi');

				return matches === 0 ? template : matches.map((el, index, array) => {
					let admin_name = '';

					if (el.admin) {
						admin_name = `<span class="auto-admin">${el.admin}</span>`;
					}

					return `<li>${el.formatted_name.replace(regex, (str) => `<span class="auto-matched">${str}</span>`)}</li>`;
				}).join('');
			},
			onSubmit: ({ index, element, object, results }) => {
				clearTimeout(timeoutId);

				errorLabelEl.style.display = 'none';

				element.value = object.formatted_name;

				document.querySelector(`#hdapi-${containerId} #timezone`).value = object.timezone;
			}
		});
	*/

	let locationInputEl = document.querySelector('.location');

	locationInputEl.addEventListener('blur', function() {
		if (locationInputEl.value !== '') {
			locationInputEl.value = '';

			errorLabelEl.textContent = 'Please select location from the list';
			errorLabelEl.style.display = 'block';

			timeoutId = setTimeout(function () {
				errorLabelEl.style.display = 'none';
			}, 3000);
		}
	});

			if (typeof Storage !== 'undefined') {
			let formData = null;

			try {
				formData = window.localStorage.getItem('_form_data_14027');
			} catch (e) {}

			if (formData) {
				const searchParams = new URLSearchParams(formData);

				if (document.getElementById('name')) {
					document.getElementById('name').value = searchParams.get('name[]') ? searchParams.get('name[]') : searchParams.get('name');
				} else {
					if (document.getElementById('first_name') && document.getElementById('last_name')) {
						let name = searchParams.get('name[]') ? searchParams.get('name[]') : searchParams.get('name');

						name = name.split(' ');

						if (name.length >= 2) {
							document.getElementById('first_name').value = name[0];
							document.getElementById('last_name').value = name[1];
						}
					}
				}

				document.getElementById('year').value = searchParams.get('year[]') ? searchParams.get('year[]') : searchParams.get('year');

				document.getElementById('year')
					.dispatchEvent(new Event('change'));

				document.getElementById('month').value = searchParams.get('month[]') ? searchParams.get('month[]') : searchParams.get('month');

				document.getElementById('month')
					.dispatchEvent(new Event('change'));

				document.getElementById('day').value = searchParams.get('day[]') ? searchParams.get('day[]') : searchParams.get('day');

				document.getElementById('day')
					.dispatchEvent(new Event('change'));

				document.getElementById('hour').value = searchParams.get('hour[]') ? searchParams.get('hour[]') : searchParams.get('hour');

				document.getElementById('hour')
					.dispatchEvent(new Event('change'));

				document.getElementById('minute').value = searchParams.get('minute[]') ? searchParams.get('minute[]') : searchParams.get('minute');

				document.getElementById('minute')
					.dispatchEvent(new Event('change'));

				if (searchParams.get('birthplace[]') || searchParams.get('birthplace')) {
					document.getElementById('birthplace-' + containerId).value = searchParams.get('birthplace[]') ? searchParams.get('birthplace[]') : searchParams.get('birthplace');
				}

				document.getElementById('timezone').value = searchParams.get('timezone[]') ? searchParams.get('timezone[]') : searchParams.get('timezone');
				document.getElementById('latitude').value = searchParams.get('latitude[]') ? searchParams.get('latitude[]') : searchParams.get('latitude');
				document.getElementById('longitude').value = searchParams.get('longitude[]') ? searchParams.get('longitude[]') : searchParams.get('longitude');

				if (document.getElementById('email_address')) {
					document.getElementById('email_address').value = searchParams.get('email_address');
				}
			}
		}
	
	
	document.querySelector(`#hdapi-${containerId} .hdapi-form`)
		.addEventListener('submit', function (event) {
			event.preventDefault();

			const formEl = this;

			formEl.classList.add('hdapi-loading');

			
			const requestData = new URLSearchParams(),
				formData = new FormData(formEl);

			for (const pair of formData) {
				if (pair[0] == 'first_name') {
					formData.set('name', pair[1]);
				}

				if (pair[0] == 'last_name') {
					formData.set('name', `${formData.get('name')} ${pair[1]}`);

					formData.delete('first_name');

					formData.delete('last_name');
				}
			}

			for (const pair of formData) {
				if (isRelationshipChart) {
					if (pair[0].includes('birthplace')) {
						requestData.append('birthplace[]', pair[1]);
					} else {
						requestData.append(`${pair[0]}[]`, pair[1]);
					}
				} else {
					if (pair[0].includes('birthplace')) {
						requestData.append('birthplace', pair[1]);
					} else {
						requestData.append(pair[0], pair[1]);
					}
				}
			}

			if (isRelationshipChart) {
				for (const hdDataParam of hdDataParams) {
					if (hdDataParam[0] == 'relationship') {
						continue;
					}

					if (hdDataParam[0].includes('[]')) {
						requestData.append(`${hdDataParam[0]}`, hdDataParam[1]);
					} else {
						requestData.append(`${hdDataParam[0]}[]`, hdDataParam[1]);
					}
				}

				requestData.append('relationship', 1);
			}

			if (typeof Storage !== 'undefined') {
									window.localStorage.setItem('_form_data_14027', requestData.toString());
				
							}

							requestData.append('chartUrl', `https://www.monbodygraph.fr/#chart,${btoa(requestData.toString())}`);

				if (typeof sbjs !== 'undefined') {
					requestData.append('utm_type', sbjs.get.current.typ);
					requestData.append('utm_source', sbjs.get.current.src);
					requestData.append('utm_medium', sbjs.get.current.mdm);
					requestData.append('utm_campaign', sbjs.get.current.cmp);
					requestData.append('utm_content', sbjs.get.current.cnt);
					requestData.append('utm_term', sbjs.get.current.trm);
				}

				fetch('https://embed.bodygraphchart.com/v1/14027/generate?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f', {
					method: 'post',
					body: requestData,
					mode: 'no-cors'
				})
					.then(function (response) {
						return response.json();
					})
					.catch((error) => {
						console.log(error);
					})
					.finally(() => {
						if (window.name == 'htmlComp-iframe') {
							parent.location.href = `https://www.monbodygraph.fr//chart/${btoa(requestData.toString())}`;
						} else {
							if (typeof iframely != 'undefined') {
								window.open(`https://www.monbodygraph.fr/#chart,${btoa(requestData.toString())}`, '_blank');
							} else {
								location.href = `https://www.monbodygraph.fr/#chart,${btoa(requestData.toString())}`;
							}

							try {
								if (typeof window.top.Astro != 'undefined') {
									window.top.location.href = `https://www.monbodygraph.fr/#chart,${btoa(requestData.toString())}`;
								}
							} catch (e) {}
						}

						if (window.location.hash.startsWith('#chart,')) {
							location.reload();
						}

						formEl.classList.remove('hdapi-loading');
					});

				return;
			
			if (typeof Wix != 'undefined') {
				Wix.getSiteInfo(function (siteInfo) {
					if (siteInfo.url.slice(-1) == '/') {
						requestData.append('chartUrl', `${siteInfo.url}chart/${btoa(requestData.toString())}`);
					} else {
						requestData.append('chartUrl', `${siteInfo.url}/chart/${btoa(requestData.toString())}`);
					}

					fetch('https://embed.bodygraphchart.com/v1/14027/generate?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f', {
						method: 'post',
						body: requestData
					})
						.then((response) => response.json())
						.then((data) => {
							hdDataParams = requestData;
							hdData = data;

							if (hdData) { // check for errors
								requestData.delete('chartUrl');

								hdUrl = btoa(requestData.toString());

								window.location.hash = `#chart,${btoa(requestData.toString())}`;

								if (typeof Wix != 'undefined') {
									Wix.pushState(`chart/${btoa(requestData.toString())}`);
								}

								createChartPage();
							}
						})
						.catch((error) => {
							console.log(error);
						})
						.finally(() => {
							formEl.classList.remove('hdapi-loading');
						});
				});
			} else {
				requestData.append('chartUrl', `${window.location.href}#chart,${btoa(requestData.toString())}`);

				fetch('https://embed.bodygraphchart.com/v1/14027/generate?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f', {
					method: 'post',
					body: requestData
				})
					.then((response) => response.json())
					.then((data) => {
						hdDataParams = requestData;
						hdData = data;

						if (hdData) { // check for errors
							requestData.delete('chartUrl');

							hdUrl = btoa(requestData.toString());

							window.location.hash = `#chart,${btoa(requestData.toString())}`;

							if (typeof Wix != 'undefined') {
								Wix.pushState(`chart/${btoa(requestData.toString())}`);
							}

							try {
								if (typeof window.top.websiteID != 'undefined') {
									window.top.location.hash = window.location.hash;
								}
							} catch (err) {}

							try {
								if (typeof window.top.wsb != 'undefined') {
									window.top.location.hash = window.location.hash;
								}
							} catch (err) {}

							createChartPage();
						}
					})
					.catch((error) => {
						console.log(error);
					})
					.finally(() => {
						formEl.classList.remove('hdapi-loading');
					});
			}
		});
}

function createChartPage() {
	containerEl.innerHTML = `
		<div class="hdapi-page hdapi-page-14027 hdapi-orientation-landscape" id="hdapi-page-result">
			<div id="hdapi-page-bg"></div>
			<div class="hdapi-cta">
				<a href="#" id="hdapi-new-chart">${strings.chart.new_chart}</a>
													<a href="#" id="hdapi-download-pdf" style="display: none;">${strings.chart.download_pdf}</a>
							</div>
									<div class="hdapi-chart-wrapper">
				<div class="hdapi-left-chart" style="display: none;">
					<div class="hdapi-body">
													<div id="hdapi-svg-container-left"></div>
											</div>
					<div class="hdapi-hd-properties" ></div>
				</div>
				<div class="hdapi-center-chart">
					<div class="hdapi-hd-chart">
						<div class="hdapi-design" ><div class="hdapi-heading">${strings.chart.design}</div></div>
						<div class="hdapi-svg" >
															<div class="hdapi-arrows">
									<div class="hdapi-arrows-left">
										<div>
											<div id="hdapi-variable-digestion"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg><span></span></div>
										</div>
										<div>
											<div id="hdapi-variable-environment"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg><span></span></div>
										</div>
									</div>
									<div class="hdapi-arrows-right">
										<div>
											<div id="hdapi-variable-awareness"><span></span><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg></div>
										</div>
										<div>
											<div id="hdapi-variable-perspective"><span></span><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg></div>
										</div>
									</div>
								</div>
														<div class="hdapi-body">
																	<div id="hdapi-svg-container"></div>
															</div>
							<div class="hdapi-copyright">${strings.chart.copyright_text ? strings.chart.copyright_text : ''}</div>
						</div>
						<div class="hdapi-personality" ><div class="hdapi-heading">${strings.chart.personality}</div></div>
					</div>
					<div class="hdapi-hd-properties" ><ul></ul></div>
				</div>
				<div class="hdapi-right-chart" style="display: none;">
					<div class="hdapi-body">
													<div id="hdapi-svg-container-right"></div>
											</div>
					<div class="hdapi-hd-properties" ></div>
				</div>
			</div>
			<div class="hdapi-clear"></div>
							<div class="hdapi-report-list">
											<div class="hdapi-report-box hdapi-report-box-874">
							<h3 class="hdapi-report-name">Guide Personnalis du Design Humain</h3>
															<div class="hdapi-report-description"> Ce manuel unique d&#039;une soixantaine de pages vous aidera  apprhender les bases du Design Humain et  dcouvrir votre propre profil.</div>
														<div class="hdapi-report-price">47.00 EUR</div>
							<form action="https://embed.bodygraphchart.com/v1/14027/report/874/get" method="post" target="_blank">
								<input type="hidden" name="_token" value="pLAyBKJK81eDJjZJsCqPZFY6ADW8onXRZi63kflk" autocomplete="off">								<input type="submit" value="${strings.bodygraph_readings_report.buy_now}" class="hdapi-report-download">
							</form>
						</div>
											<div class="hdapi-report-box hdapi-report-box-10365">
							<h3 class="hdapi-report-name">Livret Stratgie &amp; Autorit</h3>
															<div class="hdapi-report-description">Dans ce livret entirement personnalis dune cinquantaine de pages vous identifierez en profondeur le fonctionnement de votre Stratgie et de votre Autorit  travers des explications prcises et claires accompagnes de conseils pratiques  mettre en uvre au quotidien.</div>
														<div class="hdapi-report-price">27.00 EUR</div>
							<form action="https://embed.bodygraphchart.com/v1/14027/report/10365/get" method="post" target="_blank">
								<input type="hidden" name="_token" value="pLAyBKJK81eDJjZJsCqPZFY6ADW8onXRZi63kflk" autocomplete="off">								<input type="submit" value="${strings.bodygraph_readings_report.buy_now}" class="hdapi-report-download">
							</form>
						</div>
											<div class="hdapi-report-box hdapi-report-box-13761">
							<h3 class="hdapi-report-name">Livret Variables</h3>
															<div class="hdapi-report-description">Comment fonctionne votre conscience ? Que sont les variables, les quatre flches au dessus de votre bodygraph ? Quelles sont les consquences du fonctionnement particulier de votre conscience ? Dans quelle mesure pouvez-vous tirer profit de ces informations pour fluidifier votre vie ?</div>
														<div class="hdapi-report-price">87.00 EUR</div>
							<form action="https://embed.bodygraphchart.com/v1/14027/report/13761/get" method="post" target="_blank">
								<input type="hidden" name="_token" value="pLAyBKJK81eDJjZJsCqPZFY6ADW8onXRZi63kflk" autocomplete="off">								<input type="submit" value="${strings.bodygraph_readings_report.buy_now}" class="hdapi-report-download">
							</form>
						</div>
											<div class="hdapi-report-box hdapi-report-box-1404">
							<h3 class="hdapi-report-name">Mes fiches de synthse</h3>
															<div class="hdapi-report-description">Retrouvez l&#039;essentiel de votre Design Humain avec son rsum !</div>
														<div class="hdapi-report-price">${strings.bodygraph_readings_report.free}</div>
							<form action="https://embed.bodygraphchart.com/v1/14027/report/1404/get" method="post" target="_blank">
								<input type="hidden" name="_token" value="pLAyBKJK81eDJjZJsCqPZFY6ADW8onXRZi63kflk" autocomplete="off">								<input type="submit" value="${strings.bodygraph_readings_report.download_now}" class="hdapi-report-download">
							</form>
						</div>
										<div class="hdapi-clear"></div>
				</div>
					</div>
		<span id="hdapi-load-font">Loading...</span>
	`;

	if (typeof hdData['svg'] !== 'undefined') {
		document.querySelector(`#hdapi-${containerId} #hdapi-svg-container`)
			.innerHTML = hdData['svg'];

		if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg`)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg`)
				.innerHTML = '';
		}

		if ($(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg path`).length) {
			$(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg path`)
				.attr('fill', '#f2f2f2');
		}
	} else {
		document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg`)
			.innerHTML = '';

		if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg path`) !== null) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-svg #bg path`)
				.setAttribute('fill', '#f2f2f2');
		}

		if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart #ChannelBorders`)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart #ChannelBorders`)
				.setAttribute('stroke', '#eeeeee');
		}

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart #Centers g`)
			.forEach(function (x) {
				if (typeof x.firstChild.setAttribute === 'function') {
					x.firstChild
						.setAttribute('stroke', '#e2e2e2');
				}
			});
	}

			if (isRelationshipChart) {
			delete hdData[0].Design.Chiron;
			delete hdData[0].Personality.Chiron;

			delete hdData[1].Design.Chiron;
			delete hdData[1].Personality.Chiron;
		} else {
			delete hdData.Design.Chiron;
			delete hdData.Personality.Chiron;
		}
	
			if (isRelationshipChart) {
			delete hdData[0].Design.Lilith;
			delete hdData[0].Personality.Lilith;

			delete hdData[1].Design.Lilith;
			delete hdData[1].Personality.Lilith;
		} else {
			delete hdData.Design.Lilith;
			delete hdData.Personality.Lilith;
		}
	
	if (isRelationshipChart) {
		if (typeof hdData['svg'] !== 'undefined') {
			document.querySelector(`#hdapi-${containerId} #hdapi-svg-container-left`)
				.innerHTML = hdData['svg'];

			document.querySelector(`#hdapi-${containerId} #hdapi-svg-container-right`)
				.innerHTML = hdData['svg'];
		}

		if (document.querySelector(`#hdapi-${containerId} .hdapi-report-list`)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-report-list`).remove();
		}

		if (document.querySelector(`#hdapi-${containerId} #hdapi-download-pdf`)) {
			document.querySelector(`#hdapi-${containerId} #hdapi-download-pdf`).remove();
		}

		if (document.querySelector(`#hdapi-${containerId} #hdapi-download-pdf-report`)) {
			document.querySelector(`#hdapi-${containerId} #hdapi-download-pdf-report`).remove();
		}

		containerEl.classList.add('hdapi-custom-styles');

		let style = `.hdapi-custom-styles .hdapi-orientation-landscape{max-width:1250px!important}.hdapi-chart-wrapper{display:flex;flex-wrap:nowrap}.hdapi-chart-wrapper .hdapi-left-chart,.hdapi-chart-wrapper .hdapi-right-chart{max-width:320px;flex:320px;padding:0 10px}.hdapi-chart-wrapper .hdapi-center-chart{max-width:calc(100% - 640px);flex:calc(100% - 640px);padding:0 10px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart{width:100%;float:none!important;display:flex;flex-wrap:nowrap}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item{background:0 0!important;color:#000!important;display:flex;flex-wrap:nowrap;padding:0;flex-direction:row;height:24px;align-items:center}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship{display:flex;flex-direction:row;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;align-items:center;width:35px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship .hdapi-label{position:static;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;width:auto;height:auto;padding:0;font-size:11.5px;font-weight:600;color:#cb3920}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship .hdapi-fixing-state{position:static;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;margin-right:3px;width:10px;height:auto}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-icon{position:static;display:inline-block;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2;margin:0 6px;width:18px;text-align:center}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-icon svg{width:15px;height:15px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item>.hdapi-fixing-state{position:static;display:inline-block;width:10px;height:auto;padding:0;order:4;min-width:10px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item>.hdapi-label{padding:0;display:inline-block;-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3;position:static;height:auto;font-size:11.5px;font-weight:600;margin-right:3px;width:22px;color:#64301e}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item>.hdapi-fixing-state svg path{fill:#64301e!important}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship .hdapi-fixing-state svg path{fill:#cb3920}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship .hdapi-fixing-state svg,.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item>.hdapi-fixing-state svg{height:7px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-design,.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-personality{max-width:100px;flex:100px;width:auto;float:none}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-svg{width:auto;max-width:calc(100% - 200px);flex:calc(100% - 200px);float:none;margin-top:30px}.hdapi-chart-wrapper .hdapi-hd-properties{width:100%;float:none;margin-top:30px;text-align:left}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-heading{font-size:17px;font-weight:600;color:#cb3920;margin-bottom:12px}.hdapi-chart-wrapper .hdapi-hd-properties .hdpi-property-label{flex:45%}.hdapi-chart-wrapper .hdapi-hd-properties .hdpi-property-description{flex:55%}@media only screen and (max-width:1200px){.hdapi-chart-wrapper{flex-wrap:wrap}.hdapi-chart-wrapper .hdapi-left-chart,.hdapi-chart-wrapper .hdapi-right-chart{max-width:48%;flex:48%;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.hdapi-chart-wrapper .hdapi-center-chart{max-width:100%;flex:100%;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (max-width:600px){.hdapi-chart-wrapper .hdapi-left-chart,.hdapi-chart-wrapper .hdapi-right-chart{max-width:100%;flex:100%}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart{flex-wrap:wrap}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-svg{width:auto;max-width:100%;flex:100%;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-design,.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-personality{max-width:48%;flex:48%;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item{justify-content:center}.hdapi-chart-wrapper .hdapi-hd-properties{padding-top:0}}.hdapi-left-chart,.hdapi-right-chart{display:block !important}.hdapi-center-chart .hdapi-hd-properties,.hdapi-left-chart .hdapi-hd-properties,.hdapi-right-chart .hdapi-hd-properties{line-height:21px}.hdapi-left-chart .hdapi-hd-properties .hdapi-item,.hdapi-right-chart .hdapi-hd-properties .hdapi-item{display:flex;font-size:12px;padding:0;position:relative}.hdapi-left-chart .hdapi-hd-properties .hdapi-item .hdpi-property-label,.hdapi-right-chart .hdapi-hd-properties .hdapi-item .hdpi-property-label{flex:45%;padding:0;margin:0;font-weight:700}.hdapi-left-chart .hdapi-hd-properties .hdapi-item .hdpi-property-description,.hdapi-right-chart .hdapi-hd-properties .hdapi-item .hdpi-property-description{flex:55%;padding:0;margin:0}.hdapi-center-chart .hdapi-hd-properties ul{list-style:none;padding:0;margin:0}.hdapi-center-chart .hdapi-hd-properties ul .hdapi-item{display:flex;flex-wrap:nowrap;font-size:12px;padding:0}.hdapi-center-chart .hdapi-hd-properties ul .hdapi-item .hdpi-property-label{max-width:50%;flex:50%}.hdapi-center-chart .hdapi-hd-properties ul .hdapi-item .hdpi-property-description{max-width:50%;flex:50%;margin-bottom:10px}.hdapi-channel-colors{display:inline-block;height:5px;position:relative;margin-right:5px}.hdapi-channel-colors span:first-child,.hdapi-channel-colors span:nth-child(2),.hdapi-channel-colors span:nth-child(4),.hdapi-channel-colors span:nth-child(5){display:inline-block;height:5px;width:10px}.hdapi-chart-wrapper p{word-wrap:inherit!important}.hdpi-property-description,.hdpi-property-subdescription{line-height:15px}.hdpi-property-subdescription{padding:0 0 8px}.hdapi-item-color{height:5px;margin-top:10px}.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item .hdapi-relationship .hdapi-label,.hdapi-chart-wrapper .hdapi-center-chart .hdapi-hd-chart .hdapi-item>.hdapi-label{font-size:11px}.hdapi-channel-colors{line-height:0}@media only screen and (max-width:767px){.hdapi-chart-wrapper .hdapi-left-chart,.hdapi-chart-wrapper .hdapi-right-chart{display:none}}.hdapi-arrows{display:none}`;

		document.getElementById('hdapi-relationship-style').insertAdjacentHTML('beforeend', style);

		document.querySelector('.hdapi-page').classList.add('hdapi-orientation-landscape');

		let firstChartData = null;

		for (const [key, value] of hdDataParams.entries()) {
			if (key == 'name[]') {
				if (!firstChartData) {
					document.querySelector(`#hdapi-${containerId} .hdapi-personality .hdapi-heading`).innerHTML = value;

					if (strings.form.name) {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.form.name}</div>
									<div class="hdpi-property-description">${value}</div>
								</div>
							`);
					}

					if (strings.chart.birth_date) {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.birth_date}</div>
									<div class="hdpi-property-description">${hdData[0].Properties.BirthDateLocal}</div>
								</div>
							`);
					}

					/**
					if (strings.chart.birth_place) {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.birth_place}</div>
									<div class="hdpi-property-description">${hdData[0].BirthPlace}</div>
								</div>
							`);
					}
					*/

					if (strings.chart.design_date) {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.design_date}</div>
									<div class="hdpi-property-description">${hdData[0].Properties.DesignDateUtc}</div>
								</div>
							`);
					}

					for (const property in hdData[0].Properties) {
						if (!hdData[0].Properties[property].name) {
							continue;
						}

						if (hdData[0].Properties[property].link) {
							document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
								.insertAdjacentHTML('beforeend', `
									<div class="hdapi-item">
										<div class="hdpi-property-label">${hdData[0].Properties[property].name}</div>
										<div class="hdpi-property-description">
											<a href="${hdData[0].Properties[property].link}" target="_blank">${hdData[0].Properties[property].option}</a>
																					</div>
									</div>
								`);
						} else {
							document.querySelector(`#hdapi-${containerId} .hdapi-right-chart .hdapi-hd-properties`)
								.insertAdjacentHTML('beforeend', `
									<div class="hdapi-item">
										<div class="hdpi-property-label">${hdData[0].Properties[property].name}</div>
										<div class="hdpi-property-description">
											${hdData[0].Properties[property].option}
																					</div>
									</div>
								`);
						}
					}

					firstChartData = value;
				} else {
					document.querySelector(`#hdapi-${containerId} .hdapi-design .hdapi-heading`).innerHTML = value;

					if (strings.form.name) {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.form.name}</div>
									<div class="hdpi-property-description">${value}</div>
								</div>
							`);
					}

					if (strings.chart.birth_date) {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.birth_date}</div>
									<div class="hdpi-property-description">${hdData[1].Properties.BirthDateLocal}</div>
								</div>
							`);
					}

					/**
					if (strings.chart.birth_place) {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.birth_place}</div>
									<div class="hdpi-property-description">${hdData[1].BirthPlace}</div>
								</div>
							`);
					}
					*/

					if (strings.chart.design_date) {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${strings.chart.design_date}</div>
									<div class="hdpi-property-description">${hdData[1].Properties.DesignDateUtc}</div>
								</div>
							`);
					}

					for (const property in hdData[1].Properties) {
						if (!hdData[1].Properties[property].name) {
							continue;
						}

						if (hdData[1].Properties[property].link) {
							document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
								.insertAdjacentHTML('beforeend', `
									<div class="hdapi-item">
										<div class="hdpi-property-label">${hdData[1].Properties[property].name}</div>
										<div class="hdpi-property-description">
											<a href="${hdData[1].Properties[property].link}" target="_blank">${hdData[1].Properties[property].option}</a>
																					</div>
									</div>
								`);
						} else {
							document.querySelector(`#hdapi-${containerId} .hdapi-left-chart .hdapi-hd-properties`)
								.insertAdjacentHTML('beforeend', `
									<div class="hdapi-item">
										<div class="hdpi-property-label">${hdData[1].Properties[property].name}</div>
										<div class="hdpi-property-description">
											${hdData[1].Properties[property].option}
																					</div>
									</div>
								`);
						}
					}
				}
			}
		}

		for (const [key, value] of Object.entries(hdData[1].Design)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-design`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item" style="background: #e06666; color: #ffffff">
						<div class="hdapi-relationship">
							<div class="hdapi-label">${value.Gate}.${value.Line}</div>
							<div class="hdapi-fixing-state">${getFixingStateIcon(value.FixingState, '#ffffff')}</div>
						</div>
						<div class="hdapi-icon hdapi-icon-${key.replace(' ', '-')}">${getIcon(key, '#ffffff', true)}</div>
						<div class="hdapi-fixing-state">${getFixingStateIcon(hdData[1].Personality[key].FixingState, '#ffffff')}</div>
						<div class="hdapi-label">${hdData[1].Personality[key].Gate}.${hdData[1].Personality[key].Line}</div>
					</div>
				`);
		}

		document.querySelector(`#hdapi-${containerId} .hdapi-design`)
			.insertAdjacentHTML('beforeend', `
				<div class="hdapi-item-color" style="background: #2860cb;"></div>
			`);

		for (const [key, value] of Object.entries(hdData[0].Personality)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-personality`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item" style="background: #5b5b5b; color: #ffffff">
						<div class="hdapi-relationship">
							<div class="hdapi-label">${hdData[0].Design[key].Gate}.${hdData[0].Design[key].Line}</div>
							<div class="hdapi-fixing-state">${getFixingStateIcon(hdData[0].Design[key].FixingState, '#ffffff')}</div>
						</div>
						<div class="hdapi-fixing-state">${getFixingStateIcon(value.FixingState, '#ffffff')}</div>
						<div class="hdapi-label">${value.Gate}.${value.Line}</div>
						<div class="hdapi-icon hdapi-icon-${key.replace(' ', '-')}">${getIcon(key, '#ffffff', true)}</div>
					</div>
				`);
		}

		document.querySelector(`#hdapi-${containerId} .hdapi-personality`)
			.insertAdjacentHTML('beforeend', `
				<div class="hdapi-item-color" style="background: #6cce42;"></div>
			`);

					delete hdData[0].Design.Chiron;
			delete hdData[0].Personality.Chiron;

			delete hdData[1].Design.Chiron;
			delete hdData[1].Personality.Chiron;
		
		
		document.querySelectorAll(`#hdapi-${containerId} .hdapi-left-chart svg text`)
			.forEach((el) => {
				el = el.previousElementSibling,
					gateNumber = el.getAttribute('id').replace('_', '');

				el.style.fill = 'transparent';

				el.nextElementSibling
					.style.fill = '#555454';

				if (hasGate(hdData[1], gateNumber)) {
					el.style.fill = '#b3b3da';

					el.nextElementSibling
						.style.fill = '#555454';
				}
			});

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart svg text`)
			.forEach((el) => {
				el = el.previousElementSibling,
					gateNumber = el.getAttribute('id').replace('_', '');

				el.style.fill = 'transparent';

				el.nextElementSibling
					.style.fill = '#555454';

				if (hasGateRel(hdData, gateNumber)) {
					el.style.fill = '#b3b3da';

					el.nextElementSibling
						.style.fill = '#555454';
				}
			});

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-right-chart svg text`)
			.forEach((el) => {
				el = el.previousElementSibling,
					gateNumber = el.getAttribute('id').replace('_', '');

				el.style.fill = 'transparent';

				el.nextElementSibling
					.style.fill = '#555454';

				if (hasGate(hdData[0], gateNumber)) {
					el.style.fill = '#b3b3da';

					el.nextElementSibling
						.style.fill = '#555454';
				}
			});

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-left-chart svg [id^=design-], #hdapi-${containerId} .hdapi-left-chart svg [id^=personality-]`)
			.forEach((el) => {
				let gateNumber = el.getAttribute('id')
					.split('-')[1];

				let designValues = Object.values(hdData[1].Design),
					personalityValues = Object.values(hdData[1].Personality);

				let designGate = null;

				for (const key in designValues) {
					if (designValues[key].Gate == gateNumber) {
						designGate = true;
					}
				}

				let personalityGate = null;

				for (const key in personalityValues) {
					if (personalityValues[key].Gate == gateNumber) {
						personalityGate = true;
					}
				}

				if (designGate != null && personalityGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #design-${gateNumber}`)
							.style.fill = '#e06666';

						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #personality-${gateNumber}`)
							.style.fill = '#5b5b5b';
					} else {
						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #design-${gateNumber}`)
							.style.stroke = '#e06666';

						document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #personality-${gateNumber}`)
							.style.stroke = '#5b5b5b';
					}

					fixLine(el, 'both-' + gateNumber);
				} else if (designGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						el.style.fill = '#e06666';
					} else {
						el.style.stroke = '#e06666';
					}

					fixLine(el, 'design-' + gateNumber);
				} else if (personalityGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						el.style.fill = '#5b5b5b';
					} else {
						el.style.stroke = '#5b5b5b';
					}

					fixLine(el, 'personality-' + gateNumber);
				}
			});

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart svg [id^=design-], #hdapi-${containerId} .hdapi-center-chart svg [id^=personality-]`)
			.forEach((el) => {
				let gateNumber = el.getAttribute('id')
					.split('-')[1];

				for (const chartId in [hdData[0], hdData[1]]) {
					if (chartId == 'removeRange' || chartId == 'removeAt' || chartId == 'remove' || chartId == 'shuffle' || chartId == 'contains') {
						continue;
					}

					let designValues = Object.values(hdData[chartId].Design),
						personalityValues = Object.values(hdData[chartId].Personality);

					let designGate = null;

					for (const key in designValues) {
						if (designValues[key].Gate == gateNumber) {
							designGate = true;
						}
					}

					let personalityGate = null;

					for (const key in personalityValues) {
						if (personalityValues[key].Gate == gateNumber) {
							personalityGate = true;
						}
					}

					designColor = '';
					personalityColor = '';

					if (chartId == 0) {
						designColor = '#6cce42'; // #0077FF, blue
						personalityColor = '#6cce42';
					} else {
						designColor = '#2860cb'; // #FFC800
						personalityColor = '#2860cb';
					}

					let designLineEl = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #design-${gateNumber}`),
						personalityLineEl = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #personality-${gateNumber}`);

					if (designGate != null && personalityGate != null) {
						if (chartId == 1) {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								if ($(designLineEl).css('fill') == hexToRGB('#6cce42')) {
									designLineEl.style.fill = '#2860cb';
								} else {
									designLineEl.style.fill = designColor;

									personalityLineEl.style.fill = personalityColor;
								}
							} else {
								if ($(designLineEl).css('stroke') == hexToRGB('#6cce42')) {
									designLineEl.style.stroke = '#2860cb';
								} else {
									designLineEl.style.stroke = designColor;

									personalityLineEl.style.stroke = personalityColor;
								}
							}
						} else {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								designLineEl.style.fill = designColor;

								personalityLineEl.style.fill = personalityColor;
							} else {
								designLineEl.style.stroke = designColor;

								personalityLineEl.style.stroke = personalityColor;
							}
						}

						fixLine(el, 'both-' + gateNumber);
					} else if (designGate != null) {
						if (chartId == 1) {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								if ($(el).css('fill') == hexToRGB('#6cce42')) {
									designLineEl.style.fill = '#2860cb';
								} else {
									el.style.fill = designColor;
								}
							} else {
								if ($(el).css('stroke') == hexToRGB('#6cce42')) {
									designLineEl.style.stroke = '#2860cb';
								} else {
									el.style.stroke = designColor;
								}
							}
						} else {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								el.style.fill = designColor;
							} else {
								el.style.stroke = designColor;
							}
						}

						fixLine(el, 'design-' + gateNumber);
					} else if (personalityGate != null) {
						if (chartId == 1) {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								if ($(el).css('fill') == hexToRGB('#6cce42')) {
									designLineEl.style.fill = '#2860cb';
								} else {
									el.style.fill = designColor;
								}
							} else {
								if ($(el).css('stroke') == hexToRGB('#6cce42')) {
									designLineEl.style.stroke = '#2860cb';
								} else {
									el.style.stroke = designColor;
								}
							}
						} else {
							if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
								el.style.fill = personalityColor;
							} else {
								el.style.stroke = personalityColor;
							}
						}

						fixLine(el, 'personality-' + gateNumber);
					}

				}
			});

		document.querySelectorAll(`#hdapi-${containerId} .hdapi-right-chart svg [id^=design-], #hdapi-${containerId} .hdapi-right-chart svg [id^=personality-]`)
			.forEach((el) => {
				let gateNumber = el.getAttribute('id')
					.split('-')[1];

				let designValues = Object.values(hdData[0].Design),
					personalityValues = Object.values(hdData[0].Personality);

				let designGate = null;

				for (const key in designValues) {
					if (designValues[key].Gate == gateNumber) {
						designGate = true;
					}
				}

				let personalityGate = null;

				for (const key in personalityValues) {
					if (personalityValues[key].Gate == gateNumber) {
						personalityGate = true;
					}
				}

				if (designGate != null && personalityGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #design-${gateNumber}`)
							.style.fill = '#e06666';

						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #personality-${gateNumber}`)
							.style.fill = '#5b5b5b';
					} else {
						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #design-${gateNumber}`)
							.style.stroke = '#e06666';

						document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #personality-${gateNumber}`)
							.style.stroke = '#5b5b5b';
					}

					fixLine(el, 'both-' + gateNumber);
				} else if (designGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						el.style.fill = '#e06666';
					} else {
						el.style.stroke = '#e06666';
					}

					fixLine(el, 'design-' + gateNumber);
				} else if (personalityGate != null) {
					if (document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
						el.style.fill = '#5b5b5b';
					} else {
						el.style.stroke = '#5b5b5b';
					}

					fixLine(el, 'personality-' + gateNumber);
				}
			});

		if (document.getElementById('fix-20-57-10-34-20-34-10-57-2')) {
			fixLines();
		}

		for (let [key, value] of Object.entries(hdData[1].UnconsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill = '#bec4e1';
			}
		}

		for (let [key, value] of Object.entries(hdData[1].ConsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill = '#edc18a';
			}
		}

		for (let [key, value] of Object.entries(hdData[1].DefinedCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el && $(el).css('fill') == 'rgb(255, 255, 255)') {
				el.style.fill = '#bec4e1';
			}

			if (el && $(el).css('fill') == 'none') {
				el.style.fill =  '#bec4e1';
			}
		}

					for (let [key, value] of Object.entries(hdData[1].DefinedCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-left-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				if (el) {
					const centerColors = JSON.parse('{\u0022arrows_design_text\u0022:\u0022black\u0022,\u0022arrows_personality_text\u0022:\u0022black\u0022,\u0022background\u0022:\u0022#f2f2f2\u0022,\u0022design_channels\u0022:\u0022#e06666\u0022,\u0022design_channels_text\u0022:\u0022#ffffff\u0022,\u0022personality_channels\u0022:\u0022#5b5b5b\u0022,\u0022personality_channels_text\u0022:\u0022#ffffff\u0022,\u0022channels_border\u0022:\u0022#eeeeee\u0022,\u0022traditionalCenter\u0022:\u00221\u0022,\u0022head_center\u0022:\u0022#fef4a5\u0022,\u0022ajna_center\u0022:\u0022#c4e4e5\u0022,\u0022throat_center\u0022:\u0022#e2b48d\u0022,\u0022g_center\u0022:\u0022#fef4a5\u0022,\u0022heart_center\u0022:\u0022#f5b0b3\u0022,\u0022splenic_center\u0022:\u0022#e2b48d\u0022,\u0022sacral_center\u0022:\u0022#f5b0b3\u0022,\u0022solar_plexus_center\u0022:\u0022#e2b48d\u0022,\u0022root_center\u0022:\u0022#e2b48d\u0022,\u0022design_centers\u0022:\u0022#bec4e1\u0022,\u0022personality_centers\u0022:\u0022#edc18a\u0022,\u0022centers_border\u0022:\u0022#e2e2e2\u0022,\u0022gates_text\u0022:\u0022transparent\u0022,\u0022gates\u0022:\u0022#555454\u0022,\u0022active_gates\u0022:\u0022#b3b3da\u0022,\u0022active_gates_text\u0022:\u0022#555454\u0022,\u0022relationship_first_chart\u0022:\u0022#6cce42\u0022,\u0022relationship_second_chart\u0022:\u0022#2860cb\u0022}');

					el.style.fill = centerColors[value.replace(/\s+/g, '_')];
				}
			}
		
		for (let [key, value] of Object.entries(hdData['Combined'].UnconsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill = '#bec4e1';
			}
		}

		for (let [key, value] of Object.entries(hdData['Combined'].ConsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill = '#edc18a';
			}
		}

		for (let [key, value] of Object.entries(hdData['Combined'].DefinedCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el && $(el).css('fill') == 'rgb(255, 255, 255)') {
				el.style.fill =  '#bec4e1';
			}

			if (el && $(el).css('fill') == 'none') {
				el.style.fill =  '#bec4e1';
			}
		}

					for (let [key, value] of Object.entries(hdData['Combined'].DefinedCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				if (el) {
					const centerColors = JSON.parse('{\u0022arrows_design_text\u0022:\u0022black\u0022,\u0022arrows_personality_text\u0022:\u0022black\u0022,\u0022background\u0022:\u0022#f2f2f2\u0022,\u0022design_channels\u0022:\u0022#e06666\u0022,\u0022design_channels_text\u0022:\u0022#ffffff\u0022,\u0022personality_channels\u0022:\u0022#5b5b5b\u0022,\u0022personality_channels_text\u0022:\u0022#ffffff\u0022,\u0022channels_border\u0022:\u0022#eeeeee\u0022,\u0022traditionalCenter\u0022:\u00221\u0022,\u0022head_center\u0022:\u0022#fef4a5\u0022,\u0022ajna_center\u0022:\u0022#c4e4e5\u0022,\u0022throat_center\u0022:\u0022#e2b48d\u0022,\u0022g_center\u0022:\u0022#fef4a5\u0022,\u0022heart_center\u0022:\u0022#f5b0b3\u0022,\u0022splenic_center\u0022:\u0022#e2b48d\u0022,\u0022sacral_center\u0022:\u0022#f5b0b3\u0022,\u0022solar_plexus_center\u0022:\u0022#e2b48d\u0022,\u0022root_center\u0022:\u0022#e2b48d\u0022,\u0022design_centers\u0022:\u0022#bec4e1\u0022,\u0022personality_centers\u0022:\u0022#edc18a\u0022,\u0022centers_border\u0022:\u0022#e2e2e2\u0022,\u0022gates_text\u0022:\u0022transparent\u0022,\u0022gates\u0022:\u0022#555454\u0022,\u0022active_gates\u0022:\u0022#b3b3da\u0022,\u0022active_gates_text\u0022:\u0022#555454\u0022,\u0022relationship_first_chart\u0022:\u0022#6cce42\u0022,\u0022relationship_second_chart\u0022:\u0022#2860cb\u0022}');

					el.style.fill = centerColors[value.replace(/\s+/g, '_')];
				}
			}
		
		for (let [key, value] of Object.entries(hdData[0].UnconsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill =  '#bec4e1';
			}
		}

		for (let [key, value] of Object.entries(hdData[0].ConsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				el.style.fill = '#edc18a';
			}
		}

		for (let [key, value] of Object.entries(hdData[0].DefinedCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el && $(el).css('fill') == 'rgb(255, 255, 255)') {
				el.style.fill = '#bec4e1';
			}

			if (el && $(el).css('fill') == 'none') {
				el.style.fill =  '#bec4e1';
			}
		}

					for (let [key, value] of Object.entries(hdData[0].DefinedCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-right-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				if (el) {
					const centerColors = JSON.parse('{\u0022arrows_design_text\u0022:\u0022black\u0022,\u0022arrows_personality_text\u0022:\u0022black\u0022,\u0022background\u0022:\u0022#f2f2f2\u0022,\u0022design_channels\u0022:\u0022#e06666\u0022,\u0022design_channels_text\u0022:\u0022#ffffff\u0022,\u0022personality_channels\u0022:\u0022#5b5b5b\u0022,\u0022personality_channels_text\u0022:\u0022#ffffff\u0022,\u0022channels_border\u0022:\u0022#eeeeee\u0022,\u0022traditionalCenter\u0022:\u00221\u0022,\u0022head_center\u0022:\u0022#fef4a5\u0022,\u0022ajna_center\u0022:\u0022#c4e4e5\u0022,\u0022throat_center\u0022:\u0022#e2b48d\u0022,\u0022g_center\u0022:\u0022#fef4a5\u0022,\u0022heart_center\u0022:\u0022#f5b0b3\u0022,\u0022splenic_center\u0022:\u0022#e2b48d\u0022,\u0022sacral_center\u0022:\u0022#f5b0b3\u0022,\u0022solar_plexus_center\u0022:\u0022#e2b48d\u0022,\u0022root_center\u0022:\u0022#e2b48d\u0022,\u0022design_centers\u0022:\u0022#bec4e1\u0022,\u0022personality_centers\u0022:\u0022#edc18a\u0022,\u0022centers_border\u0022:\u0022#e2e2e2\u0022,\u0022gates_text\u0022:\u0022transparent\u0022,\u0022gates\u0022:\u0022#555454\u0022,\u0022active_gates\u0022:\u0022#b3b3da\u0022,\u0022active_gates_text\u0022:\u0022#555454\u0022,\u0022relationship_first_chart\u0022:\u0022#6cce42\u0022,\u0022relationship_second_chart\u0022:\u0022#2860cb\u0022}');

					el.style.fill = centerColors[value.replace(/\s+/g, '_')];
				}
			}
		
		for (const property in hdData['Combined'].Properties) {
			if (hdData['Combined'].Properties[property].name) {
				if (hdData['Combined'].Properties[property].link) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].name}</div>
									<div class="hdpi-property-description">
										<a href="${hdData['Combined'].Properties[property].link}" target="_blank">${hdData['Combined'].Properties[property].option}</a>
																			</div>
								</div>
							</li>
						`);
				} else {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].name}</div>
									<div class="hdpi-property-description">
										${hdData['Combined'].Properties[property].option}
																			</div>
								</div>
							</li>
						`);
				}
			}

			if (hdData['Combined'].Properties[property].companionship) {
				if (hdData['Combined'].Properties[property].companionship.list.length) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].companionship.name}</div>
									<div class="hdpi-property-description hdapi-property-companionship"></div>
								</div>
							</li>
						`);

					for (const channel in hdData['Combined'].Properties[property].companionship.list) {
						if (channel == 'removeRange' || channel == 'removeAt' || channel == 'remove' || channel == 'shuffle' || channel == 'contains') {
							continue;
						}

						if (typeof channel === 'function') {
							continue
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-property-companionship`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-channel-block">
									<span class="hdapi-channel-colors">
										<span class="hdapi-channel-design-${hdData['Combined'].Properties[property].companionship.list[channel].gates[0]}"></span><span class="hdapi-channel-design-${hdData['Combined'].Properties[property].companionship.list[channel].gates[1]}"></span><br><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].companionship.list[channel].gates[0]}"></span><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].companionship.list[channel].gates[1]}"></span>
									</span>
									${hdData['Combined'].Properties[property].companionship.list[channel].option}
								</div>
							`);

							for (const gate in hdData['Combined'].Properties[property].companionship.list[channel].gates) {
								let gateId = hdData['Combined'].Properties[property].companionship.list[channel].gates[gate];

								if (gateId == 'removeRange' || gateId == 'removeAt' || gateId == 'remove' || gateId == 'shuffle' || gateId == 'contains') {
									continue;
								}

								if (typeof gateId === 'function') {
									continue
								}

								let designGateColor = null,
									personalityGateColor = null;

								if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('fill'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('fill');
								} else {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('stroke'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('stroke');
								}

								document.querySelector(`#hdapi-${containerId} .hdapi-property-companionship .hdapi-channel-design-${gateId}`).style.backgroundColor = designGateColor;
								document.querySelector(`#hdapi-${containerId} .hdapi-property-companionship .hdapi-channel-personality-${gateId}`).style.backgroundColor = personalityGateColor;
							}
					}
				}

				if (hdData['Combined'].Properties[property].dominance.list.length) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].dominance.name}</div>
									<div class="hdpi-property-description hdapi-property-dominance"></div>
								</div>
							</li>
						`);

					for (const channel in hdData['Combined'].Properties[property].dominance.list) {
						if (channel == 'removeRange' || channel == 'removeAt' || channel == 'remove' || channel == 'shuffle' || channel == 'contains') {
							continue;
						}

						if (typeof channel === 'function') {
							continue
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-property-dominance`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-channel-block">
									<span class="hdapi-channel-colors">
										<span class="hdapi-channel-design-${hdData['Combined'].Properties[property].dominance.list[channel].gates[0]}"></span><span class="hdapi-channel-design-${hdData['Combined'].Properties[property].dominance.list[channel].gates[1]}"></span><br><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].dominance.list[channel].gates[0]}"></span><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].dominance.list[channel].gates[1]}"></span>
									</span>
									${hdData['Combined'].Properties[property].dominance.list[channel].option}
								</div>
							`);

							for (const gate in hdData['Combined'].Properties[property].dominance.list[channel].gates) {
								let gateId = hdData['Combined'].Properties[property].dominance.list[channel].gates[gate];

								if (gateId == 'removeRange' || gateId == 'removeAt' || gateId == 'remove' || gateId == 'shuffle' || gateId == 'contains') {
									continue;
								}

								if (typeof gateId === 'function') {
									continue
								}

								if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('fill'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('fill');
								} else {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('stroke'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('stroke');
								}

								document.querySelector(`#hdapi-${containerId} .hdapi-property-dominance .hdapi-channel-design-${gateId}`).style.backgroundColor = designGateColor;
								document.querySelector(`#hdapi-${containerId} .hdapi-property-dominance .hdapi-channel-personality-${gateId}`).style.backgroundColor = personalityGateColor;
							}
					}
				}

				if (hdData['Combined'].Properties[property].compromise.list.length) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].compromise.name}</div>
									<div class="hdpi-property-description hdapi-property-compromise"></div>
								</div>
							</li>
						`);

					for (const channel in hdData['Combined'].Properties[property].compromise.list) {
						if (channel == 'removeRange' || channel == 'removeAt' || channel == 'remove' || channel == 'shuffle' || channel == 'contains') {
							continue;
						}

						if (typeof channel === 'function') {
							continue
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-property-compromise`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-channel-block">
									<span class="hdapi-channel-colors">
										<span class="hdapi-channel-design-${hdData['Combined'].Properties[property].compromise.list[channel].gates[0]}"></span><span class="hdapi-channel-design-${hdData['Combined'].Properties[property].compromise.list[channel].gates[1]}"></span><br><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].compromise.list[channel].gates[0]}"></span><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].compromise.list[channel].gates[1]}"></span>
									</span>
									${hdData['Combined'].Properties[property].compromise.list[channel].option}
								</div>
							`);

							for (const gate in hdData['Combined'].Properties[property].compromise.list[channel].gates) {
								let gateId = hdData['Combined'].Properties[property].compromise.list[channel].gates[gate];

								if (gateId == 'removeRange' || gateId == 'removeAt' || gateId == 'remove' || gateId == 'shuffle' || gateId == 'contains') {
									continue;
								}

								if (typeof gateId === 'function') {
									continue
								}

								if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('fill'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('fill');
								} else {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('stroke'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('stroke');
								}

								document.querySelector(`#hdapi-${containerId} .hdapi-property-compromise .hdapi-channel-design-${gateId}`).style.backgroundColor = designGateColor;
								document.querySelector(`#hdapi-${containerId} .hdapi-property-compromise .hdapi-channel-personality-${gateId}`).style.backgroundColor = personalityGateColor;
							}
					}
				}

				if (hdData['Combined'].Properties[property].electromagnetic.list.length) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties ul`)
						.insertAdjacentHTML('beforeend', `
							<li>
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData['Combined'].Properties[property].electromagnetic.name}</div>
									<div class="hdpi-property-description hdapi-property-electromagnetic"></div>
								</div>
							</li>
						`);

					for (const channel in hdData['Combined'].Properties[property].electromagnetic.list) {
						if (channel == 'removeRange' || channel == 'removeAt' || channel == 'remove' || channel == 'shuffle' || channel == 'contains') {
							continue;
						}

						if (typeof channel === 'function') {
							continue
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-property-electromagnetic`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-channel-block">
									<span class="hdapi-channel-colors">
										<span class="hdapi-channel-design-${hdData['Combined'].Properties[property].electromagnetic.list[channel].gates[0]}"></span><span class="hdapi-channel-design-${hdData['Combined'].Properties[property].electromagnetic.list[channel].gates[1]}"></span><br><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].electromagnetic.list[channel].gates[0]}"></span><span class="hdapi-channel-personality-${hdData['Combined'].Properties[property].electromagnetic.list[channel].gates[1]}"></span>
									</span>
									${hdData['Combined'].Properties[property].electromagnetic.list[channel].option}
								</div>
							`);

							for (const gate in hdData['Combined'].Properties[property].electromagnetic.list[channel].gates) {
								let gateId = hdData['Combined'].Properties[property].electromagnetic.list[channel].gates[gate];

								if (gateId == 'removeRange' || gateId == 'removeAt' || gateId == 'remove' || gateId == 'shuffle' || gateId == 'contains') {
									continue;
								}

								if (typeof gateId === 'function') {
									continue
								}

								if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('fill'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('fill');
								} else {
									designGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #design-${gateId}`).css('stroke'),
										personalityGateColor = $(`#hdapi-${containerId} .hdapi-center-chart #personality-${gateId}`).css('stroke');
								}

								document.querySelector(`#hdapi-${containerId} .hdapi-property-electromagnetic .hdapi-channel-design-${gateId}`).style.backgroundColor = designGateColor;
								document.querySelector(`#hdapi-${containerId} .hdapi-property-electromagnetic .hdapi-channel-personality-${gateId}`).style.backgroundColor = personalityGateColor;
							}
					}
				}
			}
		}
	} else {
		for (const [key, value] of Object.entries(hdData.Design)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-design`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item" style="background: #e06666; color: #ffffff">
						<div class="hdapi-icon hdapi-icon-${key.replace(' ', '-')}">${getIcon(key, '#ffffff')}</div>
						<div class="hdapi-label">${value.Gate}.${value.Line}</div>
						<div class="hdapi-fixing-state">${getFixingStateIcon(value.FixingState, '#ffffff')}</div>
					</div>
				`);
		}

		for (const [key, value] of Object.entries(hdData.Personality)) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-personality`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item" style="background: #5b5b5b; color: #ffffff">
						<div class="hdapi-icon hdapi-icon-${key.replace(' ', '-')}">${getIcon(key, '#ffffff')}</div>
						<div class="hdapi-label">${value.Gate}.${value.Line}</div>
						<div class="hdapi-fixing-state">${getFixingStateIcon(value.FixingState, '#ffffff')}</div>
					</div>
				`);
		}

		
		
					document.querySelectorAll(`#hdapi-${containerId} .hdapi-svg .hdapi-arrows-left svg`)
				.forEach(function (el) {
					el.setAttribute('fill', '#e06666');
					el.setAttribute('stroke', '#e06666');
				});

			document.querySelectorAll(`#hdapi-${containerId} .hdapi-svg .hdapi-arrows-right svg`)
				.forEach(function (el) {
					el.setAttribute('fill', '#5b5b5b');
					el.setAttribute('stroke', '#5b5b5b');
				});

			if (hdData.Variables.Digestion == 'left') {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-digestion`)
					.classList.add('hdapi-reverse');
			}

			if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-digestion`)) {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-digestion`)
					.children[1]
					.innerHTML = `${hdData.Design.Sun.Color} <sub>${hdData.Design.Sun.Tone}</sub>`;

				// document.querySelector(`#hdapi-${containerId} #hdapi-variable-digestion span`).style.color = 'black';

				document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-digestion span`).forEach((el) => {
					el.style.color = 'black';
				});
			}

			if (hdData.Variables.Environment == 'left') {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-environment`)
					.classList.add('hdapi-reverse');
			}

			if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-environment`)) {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-environment`)
					.children[1]
					.innerHTML = `${hdData.Design['North Node'].Color} <sub>${hdData.Design['North Node'].Tone}</sub>`;

				// document.querySelector(`#hdapi-${containerId} #hdapi-variable-environment span`).style.color = 'black';

				document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-environment span`).forEach((el) => {
					el.style.color = 'black';
				});
			}

			if (hdData.Variables.Awareness == 'left') {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)
					.classList.add('hdapi-reverse');
			}

			if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)) {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)
					.children[0]
					.innerHTML = `<sub>${hdData.Personality.Sun.Tone}</sub> ${hdData.Personality.Sun.Color}`;

				// document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness span`).style.color = 'black';

				document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-awareness span`).forEach((el) => {
					el.style.color = 'black';
				});
			}

			if (hdData.Variables.Perspective == 'left') {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)
					.classList
					.add('hdapi-reverse');
			}

			if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)) {
				document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)
					.children[0]
					.innerHTML = `<sub>${hdData.Personality['North Node'].Tone}</sub> ${hdData.Personality['North Node'].Color}`;

				// document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective span`).style.color = 'black';

				document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-perspective span`).forEach((el) => {
					el.style.color = 'black';
				});
			}
		
		if (typeof hdData['svg'] === 'undefined') {
			if (!document.querySelector('svg.hdapi-svg-style').classList.contains('hdapi-svg-karen')) {
				document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart svg text`)
					.forEach((el) => {
						el = el.previousElementSibling,
							gateNumber = el.getAttribute('id');

						if (el.tagName == 'circle') {
							gateNumber = gateNumber.replace('_', '');
						}

						el.style.fill = 'transparent';

						el.nextElementSibling
							.style.fill = '#555454';

						if (hasGate(hdData, gateNumber)) {
							el.style.fill = '#b3b3da';

							el.nextElementSibling
								.style.fill = '#555454';
						}
					});
			}

			document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart svg [id^=design-], #hdapi-${containerId} .hdapi-center-chart svg [id^=personality-]`)
				.forEach((el) => {
					let gateNumber = el.getAttribute('id')
						.split('-')[1];

					let designValues = Object.values(hdData.Design),
						personalityValues = Object.values(hdData.Personality);

					let designGate = null;

					for (const key in designValues) {
						if (designValues[key].Gate == gateNumber) {
							designGate = true;
						}
					}

					let personalityGate = null;

					for (const key in personalityValues) {
						if (personalityValues[key].Gate == gateNumber) {
							personalityGate = true;
						}
					}

					if (designGate != null && personalityGate != null) {
						if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
							document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #design-${gateNumber}`)
								.style.fill = '#e06666';

							document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #personality-${gateNumber}`)
								.style.fill = '#5b5b5b';
						} else {
							document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #design-${gateNumber}`)
								.style.stroke = '#e06666';

							document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #personality-${gateNumber}`)
								.style.stroke = '#5b5b5b';
						}

						fixLine(el, 'both-' + gateNumber);
					} else if (designGate != null) {
						if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
							el.style.fill = '#e06666';
						} else {
							el.style.stroke = '#e06666';
						}

						fixLine(el, 'design-' + gateNumber);
					} else if (personalityGate != null) {
						if (document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
							el.style.fill = '#5b5b5b';
						} else {
							el.style.stroke = '#5b5b5b';
						}

						fixLine(el, 'personality-' + gateNumber);
					}
				});

			if (document.getElementById('fix-20-57-10-34-20-34-10-57-2')) {
				fixLines();
			}

			for (let [key, value] of Object.entries(hdData.UnconsciousCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				if (el) {
					el.style.fill = '#bec4e1';
				}
			}

			for (let [key, value] of Object.entries(hdData.ConsciousCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				if (el) {
					el.style.fill = '#edc18a';
				}
			}

			for (let [key, value] of Object.entries(hdData.DefinedCenters)) {
				let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

				// if (el && el.getAttribute('fill') == '#FFFFFF') {
				if (el && $(el).css('fill') == 'rgb(255, 255, 255)') {
					el.style.fill = '#bec4e1';
				}
			}

							for (let [key, value] of Object.entries(hdData.DefinedCenters)) {
					let el = document.querySelector(`#hdapi-${containerId} .hdapi-center-chart svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

					if (el) {
						const centerColors = JSON.parse('{\u0022arrows_design_text\u0022:\u0022black\u0022,\u0022arrows_personality_text\u0022:\u0022black\u0022,\u0022background\u0022:\u0022#f2f2f2\u0022,\u0022design_channels\u0022:\u0022#e06666\u0022,\u0022design_channels_text\u0022:\u0022#ffffff\u0022,\u0022personality_channels\u0022:\u0022#5b5b5b\u0022,\u0022personality_channels_text\u0022:\u0022#ffffff\u0022,\u0022channels_border\u0022:\u0022#eeeeee\u0022,\u0022traditionalCenter\u0022:\u00221\u0022,\u0022head_center\u0022:\u0022#fef4a5\u0022,\u0022ajna_center\u0022:\u0022#c4e4e5\u0022,\u0022throat_center\u0022:\u0022#e2b48d\u0022,\u0022g_center\u0022:\u0022#fef4a5\u0022,\u0022heart_center\u0022:\u0022#f5b0b3\u0022,\u0022splenic_center\u0022:\u0022#e2b48d\u0022,\u0022sacral_center\u0022:\u0022#f5b0b3\u0022,\u0022solar_plexus_center\u0022:\u0022#e2b48d\u0022,\u0022root_center\u0022:\u0022#e2b48d\u0022,\u0022design_centers\u0022:\u0022#bec4e1\u0022,\u0022personality_centers\u0022:\u0022#edc18a\u0022,\u0022centers_border\u0022:\u0022#e2e2e2\u0022,\u0022gates_text\u0022:\u0022transparent\u0022,\u0022gates\u0022:\u0022#555454\u0022,\u0022active_gates\u0022:\u0022#b3b3da\u0022,\u0022active_gates_text\u0022:\u0022#555454\u0022,\u0022relationship_first_chart\u0022:\u0022#6cce42\u0022,\u0022relationship_second_chart\u0022:\u0022#2860cb\u0022}');

						el.style.fill = `${centerColors[value.replace(/\s+/g, '_')]}`;
					}
				}
			
			if (document.querySelector('.hdapi-center-chart svg.hdapi-svg-style').classList.contains('hdapi-svg-karen')) {
				document.querySelectorAll(`#hdapi-${containerId} .hdapi-center-chart svg text`)
					.forEach((el) => {
						el = el.previousElementSibling,
							gateNumber = el.getAttribute('id');

						if (el.tagName == 'circle') {
							gateNumber = gateNumber.replace('_', '');
						}

						if (el.parentElement.getAttribute('id') == 'HeadCenter' || el.parentElement.getAttribute('id') == 'GCenter') {
							if (hasGate(hdData, gateNumber)) {
								el.style.fill = '#000000';

								el.nextElementSibling
									.style.fill = '#FFFFFF';
							}

							if (el.parentElement.querySelector('#head-center')) {
								if (el.parentElement.querySelector('#head-center').style.fill == 'rgb(79, 36, 53)') {
									if (hasGate(hdData, gateNumber)) {
										el.style.fill = '#FFFFFF';

										el.nextElementSibling
											.style.fill = '#000000';
									}
								} else {
									if (el.style.fill == 'rgb(0, 0, 0)') {
										el.nextElementSibling
											.style.fill = '#FFFFFF';
									} else {
										el.nextElementSibling
											.style.fill = '#000000';
									}
								}
							}

							if (el.parentElement.querySelector('#g-center')) {
								if (el.parentElement.querySelector('#g-center').style.fill == 'rgb(79, 36, 53)') {
									if (hasGate(hdData, gateNumber)) {
										el.style.fill = '#FFFFFF';

										el.nextElementSibling
											.style.fill = '#000000';
									}
								} else {
									if (!hasGate(hdData, gateNumber)) {
										el.nextElementSibling
											.style.fill = '#000000';
									}
								}
							}
						} else {
							el.style.fill = 'transparent';

							el.nextElementSibling
								.style.fill = 'black'; // #555454

							if (hasGate(hdData, gateNumber)) {
								el.style.fill = '#b3b3da';

								el.nextElementSibling
									.style.fill = '#555454';
							}
						}
					});
			}
		}

		if (hdData.Properties.Type) {
			document.querySelector(`#hdapi-${containerId} #hdapi-page-bg`)
				.classList.add(`hdapi-type-${hdData.Properties.Type.id.toLowerCase().replace(/\s/g, '-').trim()}`);
		}

		if (strings.form.name) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item">
						<div class="hdpi-property-label">${strings.form.name}</div>
						<div class="hdpi-property-description">${hdData.Name}</div>
					</div>
				`);
		}

		if (strings.chart.birth_date) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item">
						<div class="hdpi-property-label">${strings.chart.birth_date}</div>
													<div class="hdpi-property-description">${hdData.Properties.BirthDateLocal}</div>
											</div>
				`);
		}

		if (strings.chart.age) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item">
						<div class="hdpi-property-label">${strings.chart.age}</div>
						<div class="hdpi-property-description">${hdData.Properties.Age}</div>
					</div>
				`);
		}

		if (strings.chart.birth_place) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item">
						<div class="hdpi-property-label">${strings.chart.birth_place}</div>
						<div class="hdpi-property-description">${hdData.BirthPlace}</div>
					</div>
				`);
		}

		if (strings.chart.design_date) {
			document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
				.insertAdjacentHTML('beforeend', `
					<div class="hdapi-item">
						<div class="hdpi-property-label">${strings.chart.design_date}</div>
													<div class="hdpi-property-description">${hdData.Properties.DesignDateUtc}</div>
											</div>
				`);
		}

		var displayGateList = false;

		
		var displayChannelList = false;

					var displayChannelList = true;
		
		for (const property in hdData.Properties) {
			if (!hdData.Properties[property].name) {
				continue;
			}

			if (hdData.Properties[property].list) {
				if (property == 'Gates' && displayGateList) {
					if (hdData.Properties[property].list.length) {
						let gateListHtml = '';

						for (const gate in hdData.Properties[property].list) {
							if (gate == 'removeRange' || gate == 'removeAt' || gate == 'remove' || gate == 'shuffle' || gate == 'contains') {
								continue;
							}

							if (hdData.Properties[property].list[gate].link) {
								gateListHtml += `
									<span class="hdapi-property-list-item">
										<a href="${hdData.Properties[property].list[gate].link}" target="_blank">${hdData.Properties[property].list[gate].option}</a>
																		`;

								if (gate != (hdData.Properties[property].list.length - 1)) {
									gateListHtml += '<span class="hdapi-comma">,</span> ';
								}

								gateListHtml += `
									</span>
								`;
							} else {
								gateListHtml += `
									<span class="hdapi-property-list-item">${hdData.Properties[property].list[gate].option}
																		`;

								if (gate != (hdData.Properties[property].list.length - 1)) {
									gateListHtml += '<span class="hdapi-comma">,</span> ';
								}

								gateListHtml += `
									</span>
								`;
							}
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData.Properties[property].name}</div>
									<div class="hdpi-property-description">
										${gateListHtml.replace(/\t|\n/g, '')}
									</div>
								</div>
							`);
					}
				} else if (property == 'Channels' && displayChannelList) {
					if (hdData.Properties[property].list.length) {
						let channelListHtml = '';

						for (const channel in hdData.Properties[property].list) {
							if (channel == 'removeRange' || channel == 'removeAt' || channel == 'remove' || channel == 'shuffle' || channel == 'contains' || channel == 'move') {
								continue;
							}

							if (hdData.Properties[property].list[channel].link) {
								channelListHtml += `
									<div class="hdapi-property-list-item">
										<a href="${hdData.Properties[property].list[channel].link}" target="_blank">${hdData.Properties[property].list[channel].option}</a>
																			</div>
								`;
							} else {
								channelListHtml += `
									<div class="hdapi-property-list-item">
										${hdData.Properties[property].list[channel].option}
																			</div>
								`;
							}
						}

						document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
							.insertAdjacentHTML('beforeend', `
								<div class="hdapi-item">
									<div class="hdpi-property-label">${hdData.Properties[property].name}</div>
									<div class="hdpi-property-description">
										${channelListHtml}
									</div>
								</div>
							`);
					}
				} else {
					if (property !== 'Channels' && property !== 'Gates') {
						if (hdData.Properties[property].list.length) {
							let listHtml = '';

							for (const item in hdData.Properties[property].list) {
								if (item == 'removeRange' || item == 'removeAt' || item == 'remove' || item == 'shuffle' || item == 'contains' || item == 'move') {
									continue;
								}

								if (hdData.Properties[property].list[item].link) {
									listHtml += `
										<div class="hdapi-property-list-item">
											<a href="${hdData.Properties[property].list[item].link}" target="_blank">${hdData.Properties[property].list[item].option}</a>
																					</div>
									`;
								} else {
									listHtml += `
										<div class="hdapi-property-list-item">
											${hdData.Properties[property].list[item].option}
																					</div>
									`;
								}
							}

							if (hdData.Properties[property].name === 'Complete Open Centers') {
								document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
									.insertAdjacentHTML('beforeend', `
										<div class="hdapi-item">
											<div class="hdpi-property-label">${hdData.Properties[property].name}</div>
											<div class="hdpi-property-description">
												${listHtml}
											</div>
										</div>
									`);
							}
						}
					}
				}
			} else {
				if (hdData.Properties[property].link) {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
						.insertAdjacentHTML('beforeend', `
							<div class="hdapi-item">
								<div class="hdpi-property-label">${hdData.Properties[property].name}</div>
								<div class="hdpi-property-description">
									<a href="${hdData.Properties[property].link}" target="_blank">${hdData.Properties[property].option}</a>
																	</div>
							</div>
						`);
				} else {
					document.querySelector(`#hdapi-${containerId} .hdapi-center-chart .hdapi-hd-properties`)
						.insertAdjacentHTML('beforeend', `
							<div class="hdapi-item">
								<div class="hdpi-property-label">${hdData.Properties[property].name}</div>
								<div class="hdpi-property-description">
									${hdData.Properties[property].option}
																	</div>
							</div>
						`);
				}
			}
		}
	}

	document.querySelector(`#hdapi-${containerId} #hdapi-new-chart`)
		.addEventListener('click', function (evt) {
			evt.preventDefault();

			isRelationshipChart = false;

			if (document.getElementById('hdapi-relationship-style')) {
				document.getElementById('hdapi-relationship-style').innerHTML = '';
			}

			createFormPage();
		});

	if (document.querySelector(`#hdapi-${containerId} #hdapi-new-relationship-chart`)) {
		document.querySelector(`#hdapi-${containerId} #hdapi-new-relationship-chart`)
			.addEventListener('click', function (evt) {
				evt.preventDefault();

				isRelationshipChart = true;

				if (document.getElementById('hdapi-relationship-style')) {
					document.getElementById('hdapi-relationship-style').innerHTML = '';
				}

				createFormPage();
			});
	}

	window.onpopstate = function () {
		if (location.hash == '') {
			createFormPage();
		} else {
			createChartPage();
		}
	};

			document.querySelector(`#hdapi-${containerId}`)
			.onmouseover = interactionHandler;

		document.querySelector(`#hdapi-${containerId}`)
			.onmouseout = interactionHandler;

		function interactionHandler(evt) {
			if (evt.type == 'mouseover') {
				if (evt.target.id.match(/(.*)-center/gm) || evt.target.id.match(/personality-(.*)/gm) || evt.target.id.match(/design-(.*)/gm)) {
					let tipEl = document.getElementById('hdapi-tip');

					if (!tipEl) {
						tipEl = document.createElement('div');
						tipEl.setAttribute('id', 'hdapi-tip');

						if (evt.target.id.match(/(.*)-center/gm)) {
															let targetCenter = evt.target.id
									.replace('-center', ' ')
									.replace('-', ' ')
									.toUpperCase()
									.trim();

								hdData.Tooltips.Centers.forEach(function (center) {
									if (center.id.toUpperCase() == targetCenter) { // && hdData.DefinedCenters.includes(`${center.id.charAt(0).toLowerCase()}${center.id.substring(1)} center`)
										tipEl.appendChild(createHTMLNode(center.option));

										if (center.description) {
											let divEl = document.createElement('div');
											divEl.classList.add('hdapi-tip-description');
											divEl.appendChild(createHTMLNode(center.description));

											tipEl.appendChild(divEl);
										}
									}
								});
													} else {
															let targetChannel = evt.target.id
									.replace('design-', '')
									.replace('personality-', '');

                                function appendChannelInfo(channel) {
                                    tipEl.appendChild(createHTMLNode(channel.option));

                                    if (channel.description) {
                                        let divEl = document.createElement('div');
                                        divEl.classList.add('hdapi-tip-description');
                                        divEl.appendChild(createHTMLNode(channel.description));

                                        tipEl.appendChild(divEl);
                                    }

                                    if (targetChannel == 10) {
                                        let brEl = document.createElement('br');
                                        tipEl.appendChild(brEl);
                                    }
                                }

                                const specialCases = [
                                    { target: '20-34', id: '20 - 34' },
                                    { target: '10-20', id: '20 - 10' },
                                    { target: '34-20', id: '34 - 10' },
                                    { target: '57-10', id: '57 - 10' }
                                ];

                                hdData.Tooltips.Channels.forEach(function (channel) {
                                    if (channel.id.split(' - ').includes(targetChannel) && hdData.Channels.includes(channel.id.replace(' - ', '-'))) {
                                        appendChannelInfo(channel);
                                    }

                                    specialCases.forEach(function (item) {
                                        if (targetChannel === item.target && channel.id === item.id) {
                                            appendChannelInfo(channel);
                                        }
                                    });
                                });
													}

						tipEl.style.top = evt.clientY + 'px';
						tipEl.style.left = evt.clientX + 'px';

						if (tipEl.innerHTML) {
							document.body.appendChild(tipEl);
						}
					}
				}
			}

			if (evt.type == 'mouseout') {
				if (document.getElementById('hdapi-tip')) {
					document.getElementById('hdapi-tip').remove();
				}
			}
		}
	
	
		const downloadPdfEl = document.querySelector(`#hdapi-${containerId} a#hdapi-download-pdf`);

		if (downloadPdfEl) {
			downloadPdfEl.addEventListener('click', function (evt) {
				evt.preventDefault();

				/**
				if (window.navigator.userAgent.includes('Instagram') || window.navigator.userAgent.includes('FBAN') || window.navigator.userAgent.includes('FBAV')) {
					const popupEl = document.createElement('div');
					popupEl.className = 'hdapi-overlay';
					popupEl.innerHTML = `
						<div class="hdapi-popup">
							<h2></h2>
							<a href="#" class="hdapi-close" onclick="event.preventDefault(); document.querySelector('.hdapi-overlay').remove()">&times;</a>
							<div class="hdapi-content">
								<div class="hdapi-payment-pending">
									<br> <strong>Instagram's in-app browser can't download or purchase reports.</strong> <br> <br>
									To switch to the different browser, please scroll to the top, click on the top right corner menu and click \"Open in browser\".
								</div>
							</div>
						</div>
					`;

					containerEl.appendChild(popupEl);

					return;
				}
				*/

				containerEl.classList.add('hdapi-loading');

				let html = document.querySelector(`#hdapi-${containerId}`).outerHTML;
				html = html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
				html += document.getElementById('hdapi-style').outerHTML;

				if (document.getElementById('hdapi-webfonts')) {
					html += `<link rel="stylesheet" href="${document.getElementById('hdapi-webfonts').href}">`;
				}

				html = '<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title></title></head><body>' + html + '</body></html>';

				let form = document.createElement('form');
				form.setAttribute('method', 'POST');
				form.setAttribute('action', 'https://embed.bodygraphchart.com/v1/14027/generate-pdf?token=99a835d8-7fdd-4d29-9dcf-32ec09739e5f');

				if (!window.navigator.userAgent.includes('Instagram') && !window.navigator.userAgent.includes('FBAN') && !window.navigator.userAgent.includes('FBAV')) {
					form.setAttribute('target', '_blank');
				}

				let htmlInput = document.createElement('input');
				htmlInput.setAttribute('type', 'hidden');
				htmlInput.setAttribute('name', 'html');
				htmlInput.setAttribute('value', html);
				form.appendChild(htmlInput);

				let dataInput = document.createElement('input');
				dataInput.setAttribute('type', 'hidden');
				dataInput.setAttribute('name', 'request');
				dataInput.setAttribute('value', hdDataParams);
				form.appendChild(dataInput);

				try {
					if (typeof window.top.websiteID != 'undefined') {
						window.top.document.body.appendChild(form);
					} else if (typeof window.top.wsb != 'undefined') {
						window.top.document.body.appendChild(form);
					} else {
						document.body.appendChild(form);
					}
				} catch (err) {
					document.body.appendChild(form);
				}

				setTimeout(function () {
					form.submit();
				}, 60);

				containerEl.classList.remove('hdapi-loading');
			});
		}

	
	
			var urlParams = new URLSearchParams(window.location.search);

		try {
			if (typeof window.top.websiteID != 'undefined') {
				urlParams = new URLSearchParams(window.top.location.search);
			}
		} catch (err) {}

		try {
			if (typeof window.top.wsb != 'undefined') {
				urlParams = new URLSearchParams(window.top.location.search);
			}
		} catch (err) {}

		if (typeof Wix != 'undefined') {
			Wix.getSiteInfo(function (siteInfo) {
				urlParams = new URLSearchParams('?' + siteInfo.url.split('?').pop());
			});
		}

		setTimeout(function () {
			if (urlParams.get('bgc_payment_status') === 'success') {
				const popupEl = document.createElement('div');
				popupEl.className = 'hdapi-overlay';
				popupEl.innerHTML = `
					<div class="hdapi-popup">
						<h2>${strings.bodygraph_readings_report.payment_success}</h2>
						<a href="#" class="hdapi-close">&times;</a>
						<div class="hdapi-content">
							<div class="hdapi-payment-pending">
								${strings.bodygraph_readings_report.payment_success_message}
								<div class="hdapi-loader"></div>
								${strings.bodygraph_readings_report.dont_close_page}
							</div>
							<div class="hdapi-report-single" style="display: none;">
								<form method="post" target="_blank">
									<input type="hidden" name="_token" value="pLAyBKJK81eDJjZJsCqPZFY6ADW8onXRZi63kflk" autocomplete="off">									<input type="submit" value="${strings.bodygraph_readings_report.download_now}" class="hdapi-report-download">
								</form>
							</div>
						</div>
					</div>
				`;

				containerEl.appendChild(popupEl);

				const checkOrderInterval = setInterval(function () {
					const match = /\&token\=(.+)\&/g.exec(window.location.hash);

					let token = null;

					if (match) {
						token = match[1];
					}

					fetch(`https://embed.bodygraphchart.com/check-order?reportId=${urlParams.get('bgc_report_id')}&orderId=${urlParams.get('bgc_order_id')}&token=${token}`)
						.then((response) => response.json())
						.then((data) => {
							if (data.success) {
								document.querySelector(`#hdapi-${containerId} .hdapi-report-single form`)
									.setAttribute('action', 'https://embed.bodygraphchart.com/v1/14027/report/111111111/get?orderId=222222222'.replace('111111111', data.report_id).replace('222222222', data.order_id));

								document.querySelector(`#hdapi-${containerId} .hdapi-payment-pending`).style.display = 'none';

								document.querySelector(`#hdapi-${containerId} .hdapi-report-single`).style.display = 'block';

								clearInterval(checkOrderInterval);
							}
						})
						.catch(function (error) {
							console.error(error);

							clearInterval(checkOrderInterval);
						});
				}, 2500);
			}

			if (urlParams.get('bgc_payment_status') === 'failed') {
				const popupEl = document.createElement('div');
				popupEl.className = 'hdapi-overlay';
				popupEl.innerHTML = `
					<div class="hdapi-popup">
						<h2>${strings.bodygraph_readings_report.payment_failed}</h2>
						<a href="#" class="hdapi-close">&times;</a>
						<div class="hdapi-content">
							${strings.bodygraph_readings_report.payment_failed_message}
						</div>
					</div>
				`;

				containerEl.appendChild(popupEl);
			}

			if (document.querySelector('.hdapi-close')) {
				document.querySelector('.hdapi-close')
					.addEventListener('click', function (evt) {
						evt.preventDefault();

						document.querySelector('.hdapi-overlay').remove();
					});
			}
		}, 400);
	
	const downloadPdfReportEl = document.querySelector(`#hdapi-${containerId} a#hdapi-download-pdf-report`);

	if (downloadPdfReportEl) {
		downloadPdfReportEl.addEventListener('click', function (evt) {
			evt.preventDefault();

			try {
				if (typeof window.top.wsb != 'undefined') {
					document.querySelector('.hdapi-download-pdf-report-form')
						.click();
				} else {
					document.querySelector(`#hdapi-${containerId} .hdapi-download-pdf-report-form`)
						.click();
				}
			} catch (err) {
				document.querySelector(`#hdapi-${containerId} .hdapi-download-pdf-report-form`)
					.click();
			}

			if (window.Squarespace) {
				const form = document.querySelector('.hdapi-download-pdf-report-form');
				const formData = new FormData(form);

				fetch(form.action, {
					method: 'POST',
					body: formData
				})
					.then(response => response.blob())
					.then(blob => {
						const url = window.URL.createObjectURL(blob);

						const a = document.createElement('a');
						a.style.display = 'none';
						a.href = url;
						a.download = 'report.pdf';

						document.body.appendChild(a);

						a.click();

						window.URL.revokeObjectURL(url);
					})
					.catch(error => console.error('Error downloading PDF:', error));
			} else {
				try {
					if (typeof window.top.wsb != 'undefined') {
						window.top.document.querySelector('.hdapi-download-pdf-report-form')
							.submit();
					} else {
						document.querySelector(`#hdapi-${containerId} .hdapi-download-pdf-report-form`)
							.submit();
					}
				} catch (err) {
					document.querySelector(`#hdapi-${containerId} .hdapi-download-pdf-report-form`)
						.submit();
				}
			}
		});
	}

	setTimeout(function () {
		document.querySelectorAll('.hdapi-report-list form, .hdapi-report-single form, .hdapi-download-pdf-report-form')
			.forEach(function (el) {
				el.addEventListener('click', function (evt) {
					if (window.navigator.userAgent.includes('Instagram') || window.navigator.userAgent.includes('FBAN') || window.navigator.userAgent.includes('FBAV') || window.navigator.userAgent.includes('iPhone')) {
						const iOSDevice = !!navigator.platform.match(/iPhone|iPod|iPad/);

						if (iOSDevice) {
							if ($('.hdapi-report-box form').length) {
								$('.hdapi-report-box form').attr('target', '_parent');
							}

							if ($('.hdapi-report-single form').length) {
								$('.hdapi-report-single form').attr('target', '_parent');
							}
						}

						if (typeof Wix === 'undefined') {
							if ($('.hdapi-report-box form').length) {
								$('.hdapi-report-box form').removeAttr('target');
							}

							if ($('.hdapi-report-single form').length) {
								$('.hdapi-report-single form').removeAttr('target');
							}
						}
					}

					/**
					if (window.navigator.userAgent.includes('Instagram') || window.navigator.userAgent.includes('FBAN') || window.navigator.userAgent.includes('FBAV')) {
						evt.preventDefault();

						const popupEl = document.createElement('div');
						popupEl.className = 'hdapi-overlay';
						popupEl.innerHTML = `
							<div class="hdapi-popup">
								<h2></h2>
								<a href="#" class="hdapi-close" onclick="event.preventDefault(); document.querySelector('.hdapi-overlay').remove()">&times;</a>
								<div class="hdapi-content">
									<div class="hdapi-payment-pending">
										<br> <strong>Instagram's in-app browser can't download or purchase reports.</strong> <br> <br>
										To switch to the different browser, please scroll to the top, click on the top right corner menu and click \"Open in browser\".
									</div>
								</div>
							</div>
						`;

						containerEl.appendChild(popupEl);

						return;
					}
					*/

					if (evt.target.parentNode.parentNode.classList.contains('hdapi-report-single')) {
						const dataInput = document.createElement('input');
						dataInput.setAttribute('type', 'hidden');
						dataInput.setAttribute('name', 'data');

						if (typeof Wix != 'undefined') {
							if (typeof window.location.pathname.split('/chart/')[1] != 'undefined') {
								dataInput.setAttribute('value', window.location.pathname.split('/chart/')[1]);
							} else {
								dataInput.setAttribute('value', hdUrl);
							}
						} else {
							dataInput.setAttribute('value', location.hash.replace('#chart,', ''));
						}

						el.appendChild(dataInput);
					} else {
						const dataInput = document.createElement('input');
						dataInput.setAttribute('type', 'hidden');
						dataInput.setAttribute('name', 'data');

						if (typeof Wix != 'undefined') {
							if (typeof window.location.pathname.split('/chart/')[1] != 'undefined') {
								dataInput.setAttribute('value', window.location.pathname.split('/chart/')[1]);
							} else {
								dataInput.setAttribute('value', hdUrl);
							}
						} else {
							dataInput.setAttribute('value', location.hash.replace('#chart,', ''));
						}

						el.appendChild(dataInput);

						const urlInput = document.createElement('input');
						urlInput.setAttribute('type', 'hidden');
						urlInput.setAttribute('name', 'url');

						if (typeof Wix != 'undefined') {
							if (typeof window.location.pathname.split('/chart/')[1] != 'undefined') {
								urlInput.setAttribute('value', Wix.Utils.getSectionUrl() + 'chart/' + window.location.pathname.split('/chart/')[1]);
							} else {
								urlInput.setAttribute('value', Wix.Utils.getSectionUrl() + 'chart/' + hdUrl);
							}
						} else if (location.href.indexOf('about:srcdoc') !== -1) {
							urlInput.setAttribute('value', top.location.href.replace(location.hash, ''));
						} else {
							const url = new URL(location.href.replace(location.hash, ''));

							url.searchParams.delete('bgc_payment_status');
							url.searchParams.delete('bgc_report_id');
							url.searchParams.delete('bgc_order_id');

							urlInput.setAttribute('value', url.toString());
						}

						el.appendChild(urlInput);
					}

					if (!!navigator.platform.match(/iPhone|iPod|iPad/)) {
						var formAction = el.getAttribute('action');
						var token = el.querySelector('[name="_token"]').value;
						var data = el.querySelector('[name="data"]').value;
						var url = el.querySelector('[name="url"]').value;

						window.open(formAction + '?_token=' + token + '&data=' + data + '&url=' + encodeURIComponent(url), '_blank');

						evt.preventDefault();
					}

					try {
						if (typeof window.top.websiteID != 'undefined') {
							var formAction = el.getAttribute('action');
							var token = el.querySelector('[name="_token"]').value;
							var data = el.querySelector('[name="data"]').value;
							var url = el.querySelector('[name="url"]').value;

							window.open(formAction + '?_token=' + token + '&data=' + data + '&url=' + encodeURIComponent(url), '_blank');

							evt.preventDefault();
						}
					} catch (err) {}

					try {
						if (typeof window.top.wsb != 'undefined') {
							window.top.document.body.appendChild(el);
						}
					} catch (err) {}
				});
			});
	}, 500);

	if (typeof Wix != 'undefined') {
		Wix.setHeight(containerEl.clientHeight);
	}
}

function createTransitChart() {
	document.querySelector('.hdapi-page').classList.add('hdapi-page-transit');

	document.querySelector(`#hdapi-${containerId} #hdapi-transit-chart`).innerHTML = `
		<div class="hdapi-hd-chart hdapi-transit-chart">
			<div class="hdapi-transit-title">${strings.form.current_transit}</div>
			<div class="hdapi-transit-date"></div>
			<div class="hdapi-svg">
									<div class="hdapi-arrows">
						<div class="hdapi-arrows-right">
							<div>
								<div id="hdapi-variable-awareness"><span></span><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg></div>
							</div>
							<div>
								<div id="hdapi-variable-perspective"><span></span><svg xmlns="http://www.w3.org/2000/svg" width="32" height="17"><path d="M19.795.998c-.086.112-.207.193-.273.187s-.122.025-.126.073.068.09.162.098c.144.013.164.07.136.388-.03.345-.051.374-.267.378-.153.004-.249.059-.276.166-.026.089-.125.215-.223.283-.289.193-.155.408.273.446.32.028.354.051.306.192-.034.099-.141.163-.276.166-.176.005-.239.063-.313.295-.052.155-.081.376-.068.482.021.162.084.198.404.226.429.037.477.151.12.285-.289.109-.377.363-.181.53.078.068.109.121.066.118l-6.927-.223-9.491-.157c-.231.033-.325.233-.185.403.083.101.244.138.6.141.444.003.428.01-.197.072-.863.084-1.096.161-1.075.356.023.2.289.208 2.775.068l3.014-.082.929.036-1.274.046-5.159.387c-.223.026-.304.08-.315.206-.019.214.014.215 2.455.014l3.66-.203 7.82.179.629.065-.511.029c-.756.046-6.869.186-10.315.238-2.325.035-3.093.075-3.361.178-.386.144-.744.489-.638.612.078.093 3.627.086 9.821-.02 2.79-.048 4.459-.042 4.7.015l.373.089-.469.017c-.257.01-2.891.037-5.85.06l-6.488.067c-.611.015-1.331.005-1.616-.019-.537-.047-.987.099-.714.232.071.034 2.147.048 4.615.03 6.247-.048 7.847.013 3.446.129l-3.06.111c-.422.029-1.742.048-2.927.044C.344 8.417.438 8.41.384 8.677c-.058.29.085.34.916.332.542-.006.672.016.723.127.053.116.155.118.816.018C3.864 8.999 3.843 9 8.26 9.056c6.449.084 7.122.141 2.017.174-4.374.029-8.254.134-8.389.231-.06.043-.278.072-.489.069-.373-.007-.381 0-.406.287l-.026.295.78.05.778.05.026.345c.014.187.074.37.13.397s1.664.049 3.562.047l9.927.099c.625.027 1.312.041 1.521.034.288-.01.357.008.28.075-.061.053-1.72.096-4.159.106l-12.222.173c-.059.038-.114.231-.121.424-.012.286.019.362.161.395.094.024 3.759.027 8.132.008l8.392-.002c.295.021.493.084.623.199.214.194.36.674.316 1.033a.69.69 0 0 0 .114.434c.08.106.176.315.213.471.062.252.052.279-.099.266-.093-.008-.194.039-.225.107-.09.188.106.411.328.374.157-.027.201.02.265.28.071.296.092.31.398.296.263-.013.329.016.35.15.035.206.359.247.452.057.037-.078.013-.174-.068-.242-.113-.099-.056-.145.463-.361.324-.137.787-.256 1.019-.266.237-.01.493-.031.581-.048.163-.031.214-.273.088-.422-.06-.071-.002-.12.198-.168.156-.037.353-.063.442-.055.146.013.196-.067.183-.296-.003-.056.158-.126.364-.159.757-.114.802-.136.855-.395.027-.132.132-.293.237-.355 1.459-.883 2.05-1.164 2.483-1.18.484-.019.806-.209.74-.441-.037-.13.371-.442.555-.426.045.004.246-.113.436-.256.679-.507 2.1-1.386 2.221-1.375.267.023.132-.258-.307-.639-.361-.314-.459-.449-.439-.612.024-.191.001-.211-.278-.22-.236-.008-.374-.081-.617-.326-1.077-1.098-4.24-3.444-7.351-5.456-.553-.358-1.053-.714-1.105-.787s-.206-.145-.342-.157c-.151-.013-.313-.104-.414-.232-.257-.32-.825-.38-1.039-.109h0zm1.488.93c.1.077.098.095-.016.121-.293.066-1.013.049-1.006-.027.005-.06.168-.094.864-.178.023-.003.093.036.158.085zm1.173.677c.241.146.439.295.436.333s-.137.057-.296.043c-.234-.021-.292-.061-.299-.217-.006-.14-.071-.204-.238-.237-.125-.024-.206-.079-.178-.117.075-.105.075-.105.575.195zm1.077.757c-.002.02-.079.031-.172.023s-.164-.073-.157-.146c.009-.103.042-.108.172-.023.089.059.159.126.157.146zm.643.399c-.002.018-.084.026-.174.018s-.145-.051-.114-.094c.052-.072.295-.007.288.076h0zm-2.95.796a6.53 6.53 0 0 1-.804-.012l-.335-.034.34-.029c.187-.017.552-.01.804.012l.464.041-.469.022zm5.858 1.206c.844.625 1.793 1.399 1.787 1.459-.011.121-.325-.028-.349-.165-.018-.108-.128-.192-.327-.244-.166-.045-.293-.132-.287-.198.019-.214-.302-.321-1.392-.467-1.022-.138-1.093-.136-1.164.007-.106.222-.227.267-.604.227l-.335-.037.289-.056c.165-.031.313-.12.343-.206.04-.108.171-.16.452-.176.222-.014.447-.06.512-.105.154-.103.168-.465.022-.537-.066-.031-.096-.097-.064-.14.081-.11.209-.035 1.115.639zm-1.603-.549c-.063.053-1.95.114-3.271.108-2.041-.011-1.533-.096.74-.128 2.35-.031 2.588-.028 2.53.021h0zm-4.85.104c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.036.186.049h0zm3.17 1.044c-.153.004-.397-.017-.547-.048s-.027-.035.275-.009.425.052.272.057zm-1.459-.016c-.348.003-.865-.017-1.139-.044l-.504-.049.594.001a17.93 17.93 0 0 1 1.139.044l.547.043-.638.005zm-2.011-.034c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM9.35 5.946c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.036.142.056zm7.653.67c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.203.036.142.056zm12.762 1.348c.139.124.136.129-.035.167-.101.022-.247-.019-.342-.098-.159-.131-.158-.138-.006-.166a2.13 2.13 0 0 1 .201-.028c.023-.001.104.055.182.125h0zm-10.538-.876c-.124.058-.699.066-.89.011-.161-.047.359-.121.687-.097.225.017.293.043.203.086h0zm8.442 1.198c-.063.053-1.452.14-4.556.282l-2.952.128c-.023-.002-.017-.073.014-.164s.146-.162.281-.166c.153-.004.226-.054.227-.153 0-.084.033-.144.076-.141a125.5 125.5 0 0 0 1.788.024l3.191.081 1.724.07c.134.004.229.023.207.038zm3.194.597l.484.393-.215.134c-.196.123-.216.121-.233-.013-.029-.249-.218-.354-.618-.344-.364.011-.374.005-.335-.233.024-.158.099-.256.21-.281l.2-.046c.013-.001.237.171.507.39h0zM18.649 7.598c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.083.005.132.029.105.052zm-6.062.574a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.269.036.186.049h0zm12.27 1.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.135.027.105.052zm5.486.637c-.215.131-.344.155-.473.093-.197-.096-.33-.092-4.702.092-3.452.148-3.589.148-3.579.035.007-.078 3.539-.272 6.258-.347 3.114-.086 2.869-.1 2.496.127h0zm-6.036-.594c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zm-.637.026a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-1.085.063c-.727.061-.991.061-.906-.008.071-.057.865-.102 1.251-.071.161.014.003.049-.345.079h0zm-1.218.071c-.03.025-.103.021-.159-.006-.066-.031-.046-.05.055-.046.084.002.132.027.105.052h0zm-.615.061c-.387.065-.656.042-.59-.049.032-.043.234-.061.453-.037.352.038.367.047.137.086h0zm-2.288.194c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.132.027.105.052h0zm-.613.043c-.146.01-.301.047-.363.088s-.861.059-1.782.045c-3.241-.052-3.511-.101-.818-.145l2.966-.022.252.022-.255.013zm7.554.988c-.03.025-.103.021-.159-.006-.066-.034-.046-.05.055-.046.084.002.135.027.105.052zm-.633.036c-.06.018-.153.009-.209-.018s-.009-.044.11-.034.16.034.1.052zm-.597.034a.43.43 0 0 1-.252-.022c-.081-.03-.034-.046.11-.034s.205.036.142.056zm-12.283-.991c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.602 1.015c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.205.038.142.056zM10.92 9.807c-.08.013-.236.002-.338-.025s-.035-.039.152-.025.269.034.186.049h0zm6.072.564a32.15 32.15 0 0 1-1.817-.052c-.7-.038-1.094-.07-.882-.075.669-.01 2.394.037 2.83.075.393.034.385.039-.132.052zm5.908.486c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zM10.071 9.816a.99.99 0 0 1-.336-.024c-.102-.027-.035-.039.15-.025s.271.036.186.049h0zm12.192 1.067a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.225.037.145.051zM9.181 9.827c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.294.041.186.049zm11.995 1.118c-.691.059-1.077.056-1-.009.063-.053.984-.099 1.345-.07.161.014.006.049-.345.079h0zM8.334 9.837c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.041.186.049zm5.253.46a3.77 3.77 0 0 1-.63-.055c-.17-.033-.027-.035.318-.005s.488.058.312.06zm-6.019-.44c-.105.009-.296-.008-.421-.037-.13-.029-.043-.037.192-.016s.337.042.229.053zm4.542.397c-.102.009-.279-.007-.378-.033-.104-.027-.017-.035.192-.016s.291.038.186.049zm-5.836-.356c-.35.028-1.08.035-1.612.014l-.972-.039 1.233-.045c1.496-.057 2.343-.011 1.35.07h0zm-1.041.516c-.062.017-.171.008-.252-.022s-.034-.046.11-.034.202.038.142.056zm20.065 2.322c-.088.053-.222.075-.301.047s-.574-.025-1.11.004-1.501.024-2.15-.015l-1.18-.07 1.314-.007 2.292-.036c1.383-.042 1.34-.045 1.136.077zm-5.513.536c-.007.083-.258.104-.297.025-.024-.048.035-.081.128-.073s.17.03.169.048h0zm2.961.787a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.68.024a.65.65 0 0 1-.295-.026c-.079-.027-.009-.039.15-.025s.228.038.145.051zm-.721.026c-.105.009-.296-.008-.421-.037s-.043-.037.192-.016.334.044.229.053zm-.975.001c-.128.007-.337-.012-.461-.04s-.017-.035.235-.012.354.046.227.053zm1.741.48c-.074.06-1.58.149-1.966.118-.577-.048-.307-.179.363-.176a21.97 21.97 0 0 0 .824-.007c.312-.021.831.022.779.066zm-1.657.739c-.404.178-.548.163-.209-.021.152-.083.322-.139.392-.131s-.017.08-.183.152h0z" opacity=".9"/></svg></div>
							</div>
						</div>
					</div>
								<div class="hdapi-body">
					
									</div>
			</div>
			<div class="hdapi-personality"><div class="hdapi-heading">${strings.chart.personality}</div></div>
		</div>
		<style>
			.hdapi-page-transit#hdapi-page-form{max-width:fit-content}.hdapi-form{width:48%;float:left}#hdapi-transit-chart{width:50%;float:right}.hdapi-page-transit .hdapi-hd-chart{width:100%;float:left}.hdapi-page-transit .hdapi-svg{width:calc(100% - 55px)}.hdapi-page-transit .hdapi-body svg{width:100%;height:auto;max-height:fit-content}.hdapi-page-transit .hdapi-personality{width:55px}.hdapi-page-transit .hdapi-icon svg{width:12px;height:12px}.hdapi-page-transit .hdapi-label{height:18px;top:1px;position:relative;display:block;text-align:left;padding:0 5px;width:32px;left:11px}.hdapi-page-transit .hdapi-item{padding:3px;margin:1px 0;font-size:11px;position:relative}.hdapi-page-transit .hdapi-heading{font-size:11px;text-align:center}.hdapi-page-transit .hdapi-svg svg{max-width:100%;height:auto;zoom:0.7}.hdapi-page-transit .hdapi-fixing-state svg{zoom:0.5}.hdapi-page-transit .hdapi-fixing-state{width:10px;position:absolute;top:2px;right:1px}.hdapi-page-transit .hdapi-arrows-right{width:73px;position:absolute;right:-26px}.hdapi-page-transit .hdapi-transit-title{text-align:center;font-size:20px;padding:10px 0 0;line-height:20px}.hdapi-page-transit .hdapi-transit-date{font-size:15px;text-align:center;padding:0 20px}@media (max-width:700px){#hdapi-transit-chart,.hdapi-form{width:100%;float:none}#hdapi-transit-chart{margin-top:40px}}.hdapi-personality .hdapi-icon{right:-3px !important;padding-right:0px !important}
					</style>
	`;

	if (typeof hdData['svg'] !== 'undefined') {
		document.querySelector(`#hdapi-${containerId} #hdapi-transit-chart .hdapi-body`)
			.innerHTML = hdData['svg'];

		document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg`)
			.innerHTML = '';

		if (document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg path`) !== null) {
			document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg path`)
				.setAttribute('fill', '#f2f2f2');
		}
	} else {
		document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg`)
			.innerHTML = '';

		if (document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg path`) !== null) {
			document.querySelector(`#hdapi-${containerId} .hdapi-svg #bg path`)
				.setAttribute('fill', '#f2f2f2');
		}

		if (document.querySelector(`#hdapi-${containerId} #ChannelBorders`)) {
			document.querySelector(`#hdapi-${containerId} #ChannelBorders`)
				.setAttribute('stroke', '#eeeeee');
		}

		document.querySelectorAll(`#hdapi-${containerId} #Centers g`)
			.forEach(function (x) {
				if (typeof x.firstChild.setAttribute === 'function') {
					x.firstChild
						.setAttribute('stroke', '#e2e2e2');
				}
			});
	}

			delete hdData.Design.Chiron;
		delete hdData.Personality.Chiron;
	
			delete hdData.Design.Lilith;
		delete hdData.Personality.Lilith;
	
	for (const [key, value] of Object.entries(hdData.Personality)) {
		document.querySelector(`#hdapi-${containerId} .hdapi-personality`)
			.insertAdjacentHTML('beforeend', `
				<div class="hdapi-item" style="background: #5b5b5b; color: #ffffff">
					<div class="hdapi-icon hdapi-icon-${key.replace(' ', '-')}">${getIcon(key, '#ffffff')}</div>
					<div class="hdapi-label">${value.Gate}.${value.Line}</div>
					<div class="hdapi-fixing-state">${getFixingStateIcon(value.FixingState, '#ffffff')}</div>
				</div>
			`);
	}

	
	
	document.querySelectorAll(`#hdapi-${containerId} .hdapi-svg .hdapi-arrows-right svg`)
		.forEach(function (el) {
			el.setAttribute('fill', '#5b5b5b');
			el.setAttribute('stroke', '#5b5b5b');
		});

	if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)) {
		if (hdData.Variables.Awareness == 'left') {
			document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)
				.classList.add('hdapi-reverse');
		}

		document.querySelector(`#hdapi-${containerId} #hdapi-variable-awareness`)
			.children[0]
			.innerHTML = `<sub>${hdData.Personality.Sun.Tone}</sub> ${hdData.Personality.Sun.Color}`;

		document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-awareness span`).forEach((el) => {
			el.style.color = 'black';
		});
	}

	if (document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)) {
		if (hdData.Variables.Perspective == 'left') {
			document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)
				.classList
				.add('hdapi-reverse');
		}

		document.querySelector(`#hdapi-${containerId} #hdapi-variable-perspective`)
			.children[0]
			.innerHTML = `<sub>${hdData.Personality['North Node'].Tone}</sub> ${hdData.Personality['North Node'].Color}`;

		document.querySelectorAll(`#hdapi-${containerId} #hdapi-variable-perspective span`).forEach((el) => {
			el.style.color = 'black';
		});
	}

	if (document.querySelector('svg.hdapi-svg-style') && !document.querySelector('svg.hdapi-svg-style').classList.contains('hdapi-svg-karen')) {
		document.querySelectorAll(`#hdapi-${containerId} svg text`)
			.forEach((el) => {
				el = el.previousElementSibling,
					gateNumber = el.getAttribute('id');

				if (el.tagName == 'circle') {
					gateNumber = gateNumber.replace('_', '');
				}

				el.style.fill = 'transparent';

				el.nextElementSibling
					.style.fill = '#555454';


				if (hasGateTransit(hdData, gateNumber)) {
					el.style.fill = '#b3b3da';

					el.nextElementSibling
						.style.fill = '#555454';
				}
			});
	}

	document.querySelectorAll(`#hdapi-${containerId} svg [id^=design-], #hdapi-${containerId} svg [id^=personality-]`)
		.forEach((el) => {
			let gateNumber = el.getAttribute('id')
				.split('-')[1];

			let personalityValues = Object.values(hdData.Personality);

			let personalityGate = null;

			for (const key in personalityValues) {
				if (personalityValues[key].Gate == gateNumber) {
					personalityGate = true;
				}
			}

			if (personalityGate != null) {
				if (document.querySelector(`#hdapi-${containerId} svg.hdapi-svg-style`) && document.querySelector(`#hdapi-${containerId} svg.hdapi-svg-style`).classList.contains('hdapi-line-style-fill')) {
					el.style.fill = '#5b5b5b';
				} else {
					el.style.stroke = '#5b5b5b';
				}

				fixLine(el, 'personality-' + gateNumber);
			}
		});

	if (document.getElementById('fix-20-57-10-34-20-34-10-57-2')) {
		fixLines();
	}

	for (let [key, value] of Object.entries(hdData.ConsciousCenters)) {
		let el = document.querySelector(`#hdapi-${containerId} svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

		if (el) {
			el.style.fill = '#edc18a';
		}
	}

			for (let [key, value] of Object.entries(hdData.ConsciousCenters)) {
			let el = document.querySelector(`#hdapi-${containerId} svg #${value.replace(/\s+/g, '-').toLowerCase()}`);

			if (el) {
				const centerColors = JSON.parse('{\u0022arrows_design_text\u0022:\u0022black\u0022,\u0022arrows_personality_text\u0022:\u0022black\u0022,\u0022background\u0022:\u0022#f2f2f2\u0022,\u0022design_channels\u0022:\u0022#e06666\u0022,\u0022design_channels_text\u0022:\u0022#ffffff\u0022,\u0022personality_channels\u0022:\u0022#5b5b5b\u0022,\u0022personality_channels_text\u0022:\u0022#ffffff\u0022,\u0022channels_border\u0022:\u0022#eeeeee\u0022,\u0022traditionalCenter\u0022:\u00221\u0022,\u0022head_center\u0022:\u0022#fef4a5\u0022,\u0022ajna_center\u0022:\u0022#c4e4e5\u0022,\u0022throat_center\u0022:\u0022#e2b48d\u0022,\u0022g_center\u0022:\u0022#fef4a5\u0022,\u0022heart_center\u0022:\u0022#f5b0b3\u0022,\u0022splenic_center\u0022:\u0022#e2b48d\u0022,\u0022sacral_center\u0022:\u0022#f5b0b3\u0022,\u0022solar_plexus_center\u0022:\u0022#e2b48d\u0022,\u0022root_center\u0022:\u0022#e2b48d\u0022,\u0022design_centers\u0022:\u0022#bec4e1\u0022,\u0022personality_centers\u0022:\u0022#edc18a\u0022,\u0022centers_border\u0022:\u0022#e2e2e2\u0022,\u0022gates_text\u0022:\u0022transparent\u0022,\u0022gates\u0022:\u0022#555454\u0022,\u0022active_gates\u0022:\u0022#b3b3da\u0022,\u0022active_gates_text\u0022:\u0022#555454\u0022,\u0022relationship_first_chart\u0022:\u0022#6cce42\u0022,\u0022relationship_second_chart\u0022:\u0022#2860cb\u0022}');

				el.style.fill = `${centerColors[value.replace(/\s+/g, '_')]}`;
			}
		}
	
	if (document.querySelector('svg.hdapi-svg-style') && document.querySelector('svg.hdapi-svg-style').classList.contains('hdapi-svg-karen')) {
		document.querySelectorAll(`#hdapi-${containerId} svg text`)
			.forEach((el) => {
				el = el.previousElementSibling,
					gateNumber = el.getAttribute('id');

				if (el.tagName == 'circle') {
					gateNumber = gateNumber.replace('_', '');
				}

				if (el.parentElement.getAttribute('id') == 'HeadCenter' || el.parentElement.getAttribute('id') == 'GCenter') {
					if (hasGate(hdData, gateNumber)) {
						el.style.fill = '#000000';

						el.nextElementSibling
							.style.fill = '#FFFFFF';
					}

					if (el.parentElement.querySelector('#head-center')) {
						if (el.parentElement.querySelector('#head-center').style.fill == 'rgb(79, 36, 53)') {
							if (hasGate(hdData, gateNumber)) {
								el.style.fill = '#FFFFFF';

								el.nextElementSibling
									.style.fill = '#000000';
							}
						} else {
							if (el.style.fill == 'rgb(0, 0, 0)') {
								el.nextElementSibling
									.style.fill = '#FFFFFF';
							} else {
								el.nextElementSibling
									.style.fill = '#000000';
							}
						}
					}

					if (el.parentElement.querySelector('#g-center')) {
						if (el.parentElement.querySelector('#g-center').style.fill == 'rgb(79, 36, 53)') {
							if (hasGate(hdData, gateNumber)) {
								el.style.fill = '#FFFFFF';

								el.nextElementSibling
									.style.fill = '#000000';
							}
						} else {
							if (!hasGate(hdData, gateNumber)) {
								el.nextElementSibling
									.style.fill = '#000000';
							}
						}
					}
				} else {
					el.style.fill = 'transparent';

					el.nextElementSibling
						.style.fill = '#555454';

					if (hasGate(hdData, gateNumber)) {
						el.style.fill = '#b3b3da';

						el.nextElementSibling
							.style.fill = '#555454';
					}
				}
			});
	}

	document.querySelector(`#hdapi-${containerId} .hdapi-transit-date`).innerHTML = `${hdData.Properties.BirthDateLocal}`;

			document.querySelector(`#hdapi-${containerId}`)
			.onmouseover = interactionHandler;

		document.querySelector(`#hdapi-${containerId}`)
			.onmouseout = interactionHandler;

		function interactionHandler(evt) {
			if (evt.type == 'mouseover') {
				if (evt.target.id.match(/(.*)-center/gm) || evt.target.id.match(/personality-(.*)/gm) || evt.target.id.match(/design-(.*)/gm)) {
				// if (evt.target.classList.contains('hdapi-tooltip')) {
					let tipEl = document.getElementById('hdapi-tip');

					if (!tipEl) {
						tipEl = document.createElement('div');
						tipEl.setAttribute('id', 'hdapi-tip');

						if (evt.target.id.match(/(.*)-center/gm)) {
						// if (evt.target.classList.contains('hdapi-tooltip-center')) {
															let targetCenter = evt.target.id
									.replace('-center', ' ')
									.replace('-', ' ')
									.toUpperCase()
									.trim();

								hdData.Tooltips.Centers.forEach(function (center) {
									if (center.id.toUpperCase() == targetCenter) {
										tipEl.appendChild(createHTMLNode(center.option));

										if (center.description) {
											let divEl = document.createElement('div');
											divEl.classList.add('hdapi-tip-description');
											divEl.appendChild(createHTMLNode(center.description));

											tipEl.appendChild(divEl);
										}
									}
								});
													} else {
															let targetChannel = evt.target.id
									.replace('design-', '')
									.replace('personality-', '');

								hdData.Tooltips.Channels.forEach(function (channel) {
									if (channel.id.split(' - ').includes(targetChannel) && hdData.Channels.includes(channel.id.replace(' - ', '-'))) {
										tipEl.appendChild(createHTMLNode(channel.option));

										if (channel.description) {
											let divEl = document.createElement('div');
											divEl.classList.add('hdapi-tip-description');
											divEl.appendChild(createHTMLNode(channel.description));

											tipEl.appendChild(divEl);
										}

										if (targetChannel == 10) {
											let brEl = document.createElement('br');
											tipEl.appendChild(brEl);
										}
									}
								});
													}

						tipEl.style.top = evt.clientY + 'px';
						tipEl.style.left = evt.clientX + 'px';

						if (tipEl.innerHTML) {
							document.body.appendChild(tipEl);
						}
					}
				}
			}

			if (evt.type == 'mouseout') {
				if (document.getElementById('hdapi-tip')) {
					document.getElementById('hdapi-tip').remove();
				}
			}
		}
	
	if (typeof Wix != 'undefined') {
		Wix.setHeight(containerEl.clientHeight);
	}
}

function getIcon(name, color, isRelationship) {
	const planetIcon = {"Sun":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" stroke=\"${color}\" stroke-width=\"1.5\"><circle cx=\"11.5\" cy=\"11.5\" r=\"10.5\" fill=\"none\"/><circle cx=\"11.5\" cy=\"11.5\" r=\".9\" fill=\"#1d1d1b\"/></svg>","Earth":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><circle cx=\"11.5\" cy=\"11.5\" r=\"10.5\"/><g stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M11.5 1v20.9\"/><path d=\"M1 11.5h21\"/></g></svg>","North Node":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><ellipse cx=\"5.3\" cy=\"19.4\" rx=\"3.2\" ry=\"2.8\"/><path d=\"M4.4 16.5c-6-5.2-2.6-15 6.2-15.6 9.6-.6 14.8 10.4 7.5 15.9\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"/><ellipse cx=\"16.8\" cy=\"19.4\" rx=\"3.2\" ry=\"2.8\"/></svg>","South Node":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><ellipse cx=\"17.8\" cy=\"3.7\" rx=\"3.2\" ry=\"2.8\"/><path d=\"M18.7,6.6c6,5.2,2.6,15-6.2,15.6C2.9,22.7-2.3,11.8,5,6.3\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"/><ellipse cx=\"6.3\" cy=\"3.7\" rx=\"3.2\" ry=\"2.8\"/></svg>","Moon":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\"><path d=\"m5.4,20.99999c-.2.1-.4.2-.6.3,1.1.5,2.4.7,3.8.7,5.8,0,10.5-4.7,10.5-10.5.1-5.8-4.7-10.5-10.5-10.5-1.4,0-2.7.3-4,.8,3.8,1.6,6.5,5.3,6.5,9.7,0,2.1-.6,4-1.7,5.7-.8,1.6-2.3,3-4,3.8h0Z\" style=\"fill: none; stroke: ${color}; stroke-linecap: round; stroke-linejoin: round; stroke-width: 1.5px;\"/></svg>","Mercury":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><circle cx=\"11.4\" cy=\"9.9\" r=\"5.7\"/><g stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M11.4 15.6v6.5\"/><path d=\"M9.1 18.5h4.6M6.9.9c0 1.8 2 3.3 4.5 3.3M16.2.9c0 1.8-2.1 3.3-4.8 3.3\"/></g></svg>","Venus":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><circle cx=\"11.4\" cy=\"7.6\" r=\"6.7\"/><g stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M11.3 14.6v7.5\"/><path d=\"M8.7 17.5H14\"/></g></svg>","Mars":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><circle cx=\"9.8\" cy=\"13.9\" r=\"7.9\"/><path d=\"M15.1 7.7l6.3-6.5M18.3 1h3.2m0 0l.3 3.3\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"/></svg>","Jupiter":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M14.4 1v21.2\"/><path d=\"M7 6.6C4.4 3.7 7 1.9 8.5 2c1.9.1 3.1 2.4 2.8 4.4-.2 2.7-2.5 5.8-6.4 7.4l12.3.1\" stroke-linejoin=\"round\"/></svg>","Saturn":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M8.7 1v18.7\"/><path d=\"M5.9 3.6h5.6m-2.8 6.6c.9-2 3-3.1 5-2.7 2.5.6 3.3 3.4 2.9 5.1-.2.9-.7 1.8-2.2 3.5-1.7 1.8-2 2.2-2.5 3.1\"/><path d=\"M14.4 18.8c.4.4.8 1 .7 1.7-.1 1-.9 1.6-1.9 1.6s-1.7-.9-1.6-1.9c.1-.7.4-1.2.7-1.7\"/></svg>","Uranus":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><path d=\"M11.4 1.2v15.1\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"/><circle cx=\"11.4\" cy=\"19.3\" r=\"2.8\"/><g stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M3.9 7.6h15.2m.1-6.4v13.1m0-13.1H22m-2.8 13.1H22m-18.1 0L3.8 1.2m.1 13.1H1\"/><path d=\"M3.8 1.2H1\"/></g></svg>","Neptune":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M7.3 16.8H16M5.4 9c0 1.3 1 2.4 2.2 2.4\"/><path d=\"M7.6 11.4h7M17.7 9c0 1.3-1.4 2.4-3 2.4m-9.3-10V9\"/><path d=\"M17.6 1.4l.1 7.6m-6.1-5.7v18.8M15.4 3l2.1-2m0 0l2.2 1.9M9.5 4.8l2.1-2m0 0l2.2 1.9M3.3 3l2.1-2m0 0l2.2 1.9\"/></svg>","Pluto":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M5.2.9v21.2m0 0h12.6\"/><path d=\"M12.1.9c3.1 0 5.7 2.6 5.7 5.7s-2.5 5.7-5.7 5.7H12M5.2.9H12M5.3 12.3h6.8\"/></svg>","Chiron":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 23 23\" fill=\"none\" stroke=\"${color}\" stroke-width=\"1.5\"><g stroke-linecap=\"round\" stroke-miterlimit=\"10\"><path d=\"M10.8 1.1v12.1m.2-7.3l4.4-4.4\"/><path d=\"M10.9 5.5l4.7 4.2\"/></g><circle cx=\"10.8\" cy=\"17.6\" r=\"4.4\"/></svg>","Lilith":"<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23px\" height=\"23px\" viewBox=\"0 0 1000 1000\"><g><g transform=\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\"><path fill=\"${color}\" d=\"M4840.1,5000.8c-1262.3-145.6-2336.9-1021-2737.3-2233.5c-114.9-348.6-145.6-563.2-145.6-1021c0-358.2,5.7-440.6,44.1-622.5C2256-84.9,3118-1035,4269.2-1376c151.3-46,471.2-114.9,524.8-114.9c3.8,0,7.7-375.4,7.7-833.3v-833.2h-649.4c-647.5,0-651.3,0-701.1-42.1c-101.5-90-93.9-256.7,15.3-321.8c57.5-36.4,99.6-38.3,697.3-38.3h635.9l5.8-553.6l5.7-553.6l46-49.8c86.2-91.9,250.9-82.4,318,19.2c24.9,38.3,28.7,130.3,28.7,591.9v545.9h653.2h653.2l65.1,65.1c72.8,72.8,84.3,147.5,38.3,237.5c-49.8,97.7-70.9,99.6-758.5,105.4l-641.7,3.8v814.1v814.1l205,13.4c1051.6,65.1,2040,658.9,2580.2,1553.5l44.1,72.8l-93.9-57.5c-134.1-82.4-350.5-168.6-542.1-218.4c-233.7-59.4-666.6-57.5-906,1.9c-477,118.8-886.9,400.3-1160.8,798.8c-473.1,681.9-457.8,1605.2,38.3,2269.9c576.6,773.9,1607.1,1019.1,2461.4,584.2l197.3-101.5l-69,109.2c-375.4,593.8-975,1074.6-1643.5,1319.8C5878.3,4989.3,5318.9,5056.3,4840.1,5000.8z M5698.2,4569.8c325.6-55.6,708.7-197.3,982.7-364c63.2-38.3,111.1-72.8,107.3-76.6c-3.8-5.7-90-21.1-187.7-36.4c-737.5-109.2-1392.6-576.6-1743.1-1241.3c-291.2-553.6-348.6-1214.4-159-1817.8c226-718.3,816-1310.2,1536.2-1536.2c160.9-49.8,444.4-107.3,538.3-107.3c47.9,0,47.9,0-17.2-44.1c-457.8-304.6-1095.7-475-1676.1-448.2c-404.2,19.2-756.6,109.2-1130.2,291.2c-283.5,136-515.3,304.6-756.6,545.9c-409.9,409.9-662.8,879.2-789.2,1463.5c-59.4,277.8-59.4,833.3,0,1116.7c120.7,565.1,390.8,1063.1,791.1,1461.5c392.7,390.8,902.2,666.6,1436.6,775.8C4974.1,4623.4,5353.4,4629.2,5698.2,4569.8z\"/></g></g></svg>"};

	if (isRelationship) {
		color = '#000000';
	}

	const icons = {
		'Sun': planetIcon.Sun.replace(/\${color}/g, color),
		'Earth': planetIcon.Earth.replace(/\${color}/g, color),
		'North Node': planetIcon['North Node'].replace(/\${color}/g, color),
		'South Node': planetIcon['South Node'].replace(/\${color}/g, color),
		'Moon': planetIcon.Moon.replace(/\${color}/g, color),
		'Mercury': planetIcon.Mercury.replace(/\${color}/g, color),
		'Venus': planetIcon.Venus.replace(/\${color}/g, color),
		'Mars': planetIcon.Mars.replace(/\${color}/g, color),
		'Jupiter': planetIcon.Jupiter.replace(/\${color}/g, color),
		'Saturn': planetIcon.Saturn.replace(/\${color}/g, color),
		'Uranus': planetIcon.Uranus.replace(/\${color}/g, color),
		'Neptune': planetIcon.Neptune.replace(/\${color}/g, color),
		'Pluto': planetIcon.Pluto.replace(/\${color}/g, color),
		'Chiron': planetIcon.Chiron.replace(/\${color}/g, color),
		'Lilith': planetIcon.Lilith.replace(/\${color}/g, color)
	};

	return icons[name];
}

function getFixingStateIcon(value, color) {
	let fixingStateIcon = '';

	if (value == 'Detriment') {
		fixingStateIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path d="M9.655 1.427L5.904 9.369a1 1 0 0 1-1.808.001L.338 1.428A1 1 0 0 1 1.242 0h7.508a1 1 0 0 1 .904 1.427z" fill="${color}" fill-rule="evenodd"/></svg>`;
	} else if (value == 'Exalted') {
		fixingStateIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path d="M9.698 8.57L5.899.601A1 1 0 0 0 4.095.598L.261 8.566A1 1 0 0 0 1.162 10h7.633a1 1 0 0 0 .903-1.43z" fill="${color}" fill-rule="evenodd"/></svg>`;
	} else if (value == 'Juxtaposed') {
		fixingStateIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path d="M9.808 6.549c.503.613-.051 1.463-.896 1.381l-2.146-.208-.871 1.757c-.344.694-1.449.692-1.792 0l-.871-1.757-2.146.208c-.847.082-1.398-.77-.896-1.381L1.467 5 .192 3.451c-.503-.612.05-1.463.896-1.381l2.146.208L4.104.52c.344-.694 1.449-.692 1.792 0l.871 1.757 2.146-.208c.845-.082 1.399.769.896 1.381L8.533 5l1.275 1.549z" fill="${color}"/></svg>`;
	}

	return fixingStateIcon;
}

function hasGate(data, gateNumber) {
	const design = Object.values(data.Design);

	for (let key in design) {
		if (design[key].Gate == gateNumber) {
			return true;
		}
	}

	const personality = Object.values(data.Personality);

	for (let key in personality) {
		if (personality[key].Gate == gateNumber) {
			return true;
		}
	}

	return false;
}

function hasGateRel(data, gateNumber) {
	const design1 = Object.values(data[0].Design),
		design2 = Object.values(data[1].Design);

	for (let key in design1) {
		if (design1[key].Gate == gateNumber) {
			return true;
		}
	}

	for (let key in design2) {
		if (design2[key].Gate == gateNumber) {
			return true;
		}
	}

	const personality1 = Object.values(data[0].Personality),
		personality2 = Object.values(data[1].Personality);

	for (let key in personality1) {
		if (personality1[key].Gate == gateNumber) {
			return true;
		}
	}

	for (let key in personality2) {
		if (personality2[key].Gate == gateNumber) {
			return true;
		}
	}

	return false;
}

function hasGateTransit(data, gateNumber) {
	const personality = Object.values(data.Personality);

	for (let key in personality) {
		if (personality[key].Gate == gateNumber) {
			return true;
		}
	}

	return false;
}

let gates = [];

function fixLine(el, gateNumber) {
	const parent = el.parentElement;

	if (parent.getAttribute('id') == 'fix-20-57-10-34-20-34-10-57-1') {
		el.style.display = 'block';
	}

	if (parent.getAttribute('id') == 'fix-20-57-10-34-20-34-10-57-2') {
		el.style.display = 'block';
	}

	gates.push(gateNumber);
}

function fixLines() {
	if (!gates.includes('both-34') && !gates.includes('personality-34') && !gates.includes('design-34')) {
		if (gates.includes('both-10')) {
			if (gates.includes('both-57') || gates.includes('personality-57') || gates.includes('design-57')) {
				$('.hdapi-body svg #design-57, .hdapi-body svg #personality-57').hide();

				let color1, color2;

				if (gates.includes('both-57')) {
					color1 = '#e06666';
					color2 = '#5b5b5b';
				}

				if (gates.includes('personality-57')) {
					color1 = '#5b5b5b';
					color2 = '#5b5b5b';
				}

				if (gates.includes('design-57')) {
					color1 = '#e06666';
					color2 = '#e06666';
				}

				$('.hdapi-body svg #design_57-10').attr('fill', color1)
					.show()

				$('.hdapi-body svg #personality_57-10').attr('fill', color2)
					.show();
			} else {
				$('.hdapi-body svg #design-10, .hdapi-body svg #personality-10').hide();

				$('.hdapi-body svg #design_10-34').attr('fill', '#e06666')
					.show()

				$('.hdapi-body svg #personality_10-34').attr('fill', '#5b5b5b')
					.show();
			}
		}

		if (gates.includes('personality-10')) {
			if (gates.includes('both-57') || gates.includes('personality-57') || gates.includes('design-57')) {
				$('.hdapi-body svg #design-57, .hdapi-body svg #personality-57').hide();

				let color1, color2;

				if (gates.includes('both-57')) {
					color1 = '#e06666';
					color2 = '#5b5b5b';
				}

				if (gates.includes('personality-57')) {
					color1 = '#5b5b5b';
					color2 = '#5b5b5b';
				}

				if (gates.includes('design-57')) {
					color1 = '#e06666';
					color2 = '#e06666';
				}

				$('.hdapi-body svg #design_57-10').attr('fill', color1)
					.show()

				$('.hdapi-body svg #personality_57-10').attr('fill', color2)
					.show();
			} else {
				$('.hdapi-body svg #design-10, .hdapi-body svg #personality-10').hide();

				$('.hdapi-body svg #design_10-34, .hdapi-body svg #personality_10-34').attr('fill', '#5b5b5b')
					.show();
			}
		}

		if (gates.includes('design-10')) {
			if (gates.includes('both-57') || gates.includes('personality-57') || gates.includes('design-57')) {
				$('.hdapi-body svg #design-57, .hdapi-body svg #personality-57').hide();

				let color1, color2;

				if (gates.includes('both-57')) {
					color1 = '#e06666';
					color2 = '#5b5b5b';
				}

				if (gates.includes('personality-57')) {
					color1 = '#5b5b5b';
					color2 = '#5b5b5b';
				}

				if (gates.includes('design-57')) {
					color1 = '#e06666';
					color2 = '#e06666';
				}

				$('.hdapi-body svg #design_57-10').attr('fill', color1)
					.show()

				$('.hdapi-body svg #personality_57-10').attr('fill', color2)
					.show();
			} else {
				$('.hdapi-body svg #design-10, .hdapi-body svg #personality-10').hide();

				$('.hdapi-body svg #design_10-34, .hdapi-body svg #personality_10-34').attr('fill', '#e06666')
					.show();
			}
		}
	}

	if (!gates.includes('both-10') && !gates.includes('personality-10') && !gates.includes('design-10')) {
		if (gates.includes('both-34')) {
			$('.hdapi-body svg #design-34, .hdapi-body svg #personality-34').hide();

			$('.hdapi-body svg #design_34-10').attr('fill', '#e06666')
				.show()

			$('.hdapi-body svg #personality_34-10').attr('fill', '#5b5b5b')
				.show();
		}

		if (gates.includes('personality-34')) {
			$('.hdapi-body svg #design-34, .hdapi-body svg #personality-34').hide();

			$('.hdapi-body svg #design_34-10, .hdapi-body svg #personality_34-10').attr('fill', '#5b5b5b')
				.show();
		}

		if (gates.includes('design-34')) {
			$('.hdapi-body svg #design-34, .hdapi-body svg #personality-34').hide();

			$('.hdapi-body svg #design_34-10, .hdapi-body svg #personality_34-10').attr('fill', '#e06666')
				.show();
		}
	}
}

function convert24To12Hour(hour) {
	let h = hour % 12;

	if (h === 0) {
		h = 12;
	}

	return (h < 10 ? '0' : '') + h + (hour < 12 ? ' AM' : ' PM');
}

function hexToRGB(hex, opacity) {
	return 'rgb(' + (hex = hex.replace('#', '')).match(new RegExp('(.{' + hex.length/3 + '})', 'g')).map(function(l) { return parseInt(hex.length%2 ? l+l : l, 16) }).concat(isFinite(opacity) ? opacity : 1).join(',') + ')';
}

function hexToRGB(hex) {
	let alpha = false,
		h = hex.slice(hex.startsWith('#') ? 1 : 0);

	if (h.length === 3) {
		h = [...h].map(x => x + x).join('');
	} else if (h.length === 8) {
		alpha = true;
	}

	h = parseInt(h, 16);

	return (
		'rgb' +
		(alpha ? 'a' : '') +
		'(' +
		(h >>> (alpha ? 24 : 16)) +
		', ' +
		((h & (alpha ? 0x00ff0000 : 0x00ff00)) >>> (alpha ? 16 : 8)) +
		', ' +
		((h & (alpha ? 0x0000ff00 : 0x0000ff)) >>> (alpha ? 8 : 0)) +
		(alpha ? `, ${h & 0x000000ff}` : '') +
		')'
	);
}

function unescapeHTML(string) {
	let el = document.createElement('span');
	el.innerHTML = string;

	return el.innerText;
}

function createHTMLNode(htmlCode, tooltip) {
	let htmlNode = document.createElement('span');
	htmlNode.innerHTML = htmlCode

	return htmlNode;
}

function unescapeHtml(s) {
	return s.replace(/&amp;/g, "&")
		.replace(/&lt;/g, "<")
		.replace(/&gt;/g, ">")
		.replace(/&#39;/g, "'")
		.replace(/&quot;/g, '"');
}

function handleChartsSelector(chartSelector, allowEdit = false, allowDelete = false) {
	const chartsSelectorEl = document.querySelector(chartSelector);

	if (chartsSelectorEl) {
		let charts = null;

		try {
			charts = localStorage.getItem('_charts_14027');
		} catch (e) {}

		charts = charts ? JSON.parse(charts) : [];

		if (charts.length) {
			let selectEl = document.createElement('select');

			let optionEl = document.createElement('option');
			optionEl.value = '';
			optionEl.text = strings.chart.select_chart;

			selectEl.appendChild(optionEl);

			let selectedChart = null;

			for (let i = 0; i < charts.length; i++) {
				let optionEl = document.createElement('option');
				optionEl.value = `#chart,${btoa(charts[i].data)}`;
				optionEl.text = charts[i].name;

				selectEl.appendChild(optionEl);

				if (`#chart,${btoa(charts[i].data)}` == window.location.hash) {
					optionEl.selected = true;

					selectedChart = charts[i];
				}
			}

			chartsSelectorEl.appendChild(selectEl);

			selectEl.addEventListener('change', function (evt) {
				evt.preventDefault();

				if (!this.value) {
					document.getElementById('hdapi-edit-chart')
						.remove();

					document.getElementById('hdapi-delete-chart')
						.remove();

					return;
				}

									window.location.href = `https://www.monbodygraph.fr/${this.value}`;

					if ('https://www.monbodygraph.fr/' !== window.location.origin + window.location.pathname) {
						return;
					}
				
				window.location.reload();
			});

			if (selectedChart) {
				if (allowEdit) {
					let editEl = document.createElement('a');
					editEl.href = '#';
					editEl.innerText = strings.chart.edit;
					editEl.setAttribute('id', 'hdapi-edit-chart');

					chartsSelectorEl.appendChild(editEl);

					editEl.addEventListener('click', function (evt) {
						evt.preventDefault();

						for (let i = 0; i < charts.length; i++) {
							if (JSON.stringify(charts[i]) === JSON.stringify(selectedChart)) {
								window.localStorage.setItem('_form_data_14027', charts[i].data);

								createFormPage();

								charts.splice(i, 1);

								window.localStorage.setItem('_charts_14027', JSON.stringify(charts));
							}
						}
					});
				}

				if (allowDelete) {
					let deleteEl = document.createElement('a');
					deleteEl.href = '#';
					deleteEl.innerText = strings.chart.delete;
					deleteEl.setAttribute('id', 'hdapi-delete-chart');

					chartsSelectorEl.appendChild(deleteEl);

					deleteEl.addEventListener('click', function (evt) {
						evt.preventDefault();

						for (let i = 0; i < charts.length; i++) {
							if (JSON.stringify(charts[i]) === JSON.stringify(selectedChart)) {
								charts.splice(i, 1);

								window.localStorage.setItem('_charts_14027', JSON.stringify(charts));

								window.location.reload();
							}
						}
					});
				}
			}
		}
	}
}

}());
